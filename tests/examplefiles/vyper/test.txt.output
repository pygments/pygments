'# @version 0.3.7' Comment.Single
'\n'          Text.Whitespace

'"""'         Comment.Multiline
'\n@title StableSwap\n@author Curve.Fi\n@license Copyright (c) Curve.Fi, 2020-2023 - all rights reserved\n@notice 2 coin pool implementation with no lending\n@dev ERC20 support for return True/revert, return True/False, return None\n' Comment.Multiline

'"""'         Comment.Multiline
'\n\n'        Text.Whitespace

'from'        Keyword
' '           Text.Whitespace
'vyper'       Name
'.'           Punctuation
'interfaces'  Name
' '           Text.Whitespace
'import'      Keyword
' '           Text.Whitespace
'ERC20'       Name.Class
'\n\n'        Text.Whitespace

'interface'   Keyword
' '           Text.Whitespace
'Factory:'    Name.Variable
'\n    '      Text.Whitespace
'def'         Keyword
' '           Text.Whitespace
'get_fee_receiver' Name
'('           Punctuation
'_pool:'      Name.Variable
' '           Text.Whitespace
'address'     Keyword.Type
')'           Punctuation
' '           Text.Whitespace
'-'           Operator
'>'           Operator
' '           Text.Whitespace
'address'     Keyword.Type
':'           Punctuation
' '           Text.Whitespace
'view'        Keyword.Declaration
'\n    '      Text.Whitespace
'def'         Keyword
' '           Text.Whitespace
'admin'       Name
'('           Punctuation
')'           Punctuation
' '           Text.Whitespace
'-'           Operator
'>'           Operator
' '           Text.Whitespace
'address'     Keyword.Type
':'           Punctuation
' '           Text.Whitespace
'view'        Keyword.Declaration
'\n\n'        Text.Whitespace

'interface'   Keyword
' '           Text.Whitespace
'ERC1271:'    Name.Variable
'\n    '      Text.Whitespace
'def'         Keyword
' '           Text.Whitespace
'isValidSignature' Name
'('           Punctuation
'_hash:'      Name.Variable
' '           Text.Whitespace
'bytes32'     Keyword.Type
','           Punctuation
' '           Text.Whitespace
'_signature:' Name.Variable
' '           Text.Whitespace
'Bytes'       Name
'['           Punctuation
'65'          Literal.Number.Integer
']'           Punctuation
')'           Punctuation
' '           Text.Whitespace
'-'           Operator
'>'           Operator
' '           Text.Whitespace
'bytes32'     Keyword.Type
':'           Punctuation
' '           Text.Whitespace
'view'        Keyword.Declaration
'\n\n\n'      Text.Whitespace

'event'       Keyword
' '           Text.Whitespace
'Transfer:'   Name.Variable
'\n    '      Text.Whitespace
'sender:'     Name.Variable
' '           Text.Whitespace
'indexed'     Name
'('           Punctuation
'address'     Keyword.Type
')'           Punctuation
'\n    '      Text.Whitespace
'receiver:'   Name.Variable
' '           Text.Whitespace
'indexed'     Name
'('           Punctuation
'address'     Keyword.Type
')'           Punctuation
'\n    '      Text.Whitespace
'value:'      Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'\n\n'        Text.Whitespace

'event'       Keyword
' '           Text.Whitespace
'Approval:'   Name.Variable
'\n    '      Text.Whitespace
'owner:'      Name.Variable
' '           Text.Whitespace
'indexed'     Name
'('           Punctuation
'address'     Keyword.Type
')'           Punctuation
'\n    '      Text.Whitespace
'spender:'    Name.Variable
' '           Text.Whitespace
'indexed'     Name
'('           Punctuation
'address'     Keyword.Type
')'           Punctuation
'\n    '      Text.Whitespace
'value:'      Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'\n\n'        Text.Whitespace

'event'       Keyword
' '           Text.Whitespace
'TokenExchange:' Name.Variable
'\n    '      Text.Whitespace
'buyer:'      Name.Variable
' '           Text.Whitespace
'indexed'     Name
'('           Punctuation
'address'     Keyword.Type
')'           Punctuation
'\n    '      Text.Whitespace
'sold_id:'    Name.Variable
' '           Text.Whitespace
'int128'      Keyword.Type
'\n    '      Text.Whitespace
'tokens_sold:' Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'\n    '      Text.Whitespace
'bought_id:'  Name.Variable
' '           Text.Whitespace
'int128'      Keyword.Type
'\n    '      Text.Whitespace
'tokens_bought:' Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'\n\n'        Text.Whitespace

'event'       Keyword
' '           Text.Whitespace
'AddLiquidity:' Name.Variable
'\n    '      Text.Whitespace
'provider:'   Name.Variable
' '           Text.Whitespace
'indexed'     Name
'('           Punctuation
'address'     Keyword.Type
')'           Punctuation
'\n    '      Text.Whitespace
'token_amounts:' Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'['           Punctuation
'N_COINS'     Name
']'           Punctuation
'\n    '      Text.Whitespace
'fees:'       Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'['           Punctuation
'N_COINS'     Name
']'           Punctuation
'\n    '      Text.Whitespace
'invariant:'  Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'\n    '      Text.Whitespace
'token_supply:' Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'\n\n'        Text.Whitespace

'event'       Keyword
' '           Text.Whitespace
'RemoveLiquidity:' Name.Variable
'\n    '      Text.Whitespace
'provider:'   Name.Variable
' '           Text.Whitespace
'indexed'     Name
'('           Punctuation
'address'     Keyword.Type
')'           Punctuation
'\n    '      Text.Whitespace
'token_amounts:' Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'['           Punctuation
'N_COINS'     Name
']'           Punctuation
'\n    '      Text.Whitespace
'fees:'       Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'['           Punctuation
'N_COINS'     Name
']'           Punctuation
'\n    '      Text.Whitespace
'token_supply:' Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'\n\n'        Text.Whitespace

'event'       Keyword
' '           Text.Whitespace
'RemoveLiquidityOne:' Name.Variable
'\n    '      Text.Whitespace
'provider:'   Name.Variable
' '           Text.Whitespace
'indexed'     Name
'('           Punctuation
'address'     Keyword.Type
')'           Punctuation
'\n    '      Text.Whitespace
'token_amount:' Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'\n    '      Text.Whitespace
'coin_amount:' Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'\n    '      Text.Whitespace
'token_supply:' Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'\n\n'        Text.Whitespace

'event'       Keyword
' '           Text.Whitespace
'RemoveLiquidityImbalance:' Name.Variable
'\n    '      Text.Whitespace
'provider:'   Name.Variable
' '           Text.Whitespace
'indexed'     Name
'('           Punctuation
'address'     Keyword.Type
')'           Punctuation
'\n    '      Text.Whitespace
'token_amounts:' Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'['           Punctuation
'N_COINS'     Name
']'           Punctuation
'\n    '      Text.Whitespace
'fees:'       Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'['           Punctuation
'N_COINS'     Name
']'           Punctuation
'\n    '      Text.Whitespace
'invariant:'  Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'\n    '      Text.Whitespace
'token_supply:' Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'\n\n'        Text.Whitespace

'event'       Keyword
' '           Text.Whitespace
'RampA:'      Name.Variable
'\n    '      Text.Whitespace
'old_A:'      Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'\n    '      Text.Whitespace
'new_A:'      Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'\n    '      Text.Whitespace
'initial_time:' Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'\n    '      Text.Whitespace
'future_time:' Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'\n\n'        Text.Whitespace

'event'       Keyword
' '           Text.Whitespace
'StopRampA:'  Name.Variable
'\n    '      Text.Whitespace
'A:'          Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'\n    '      Text.Whitespace
't:'          Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'\n\n'        Text.Whitespace

'event'       Keyword
' '           Text.Whitespace
'CommitNewFee:' Name.Variable
'\n    '      Text.Whitespace
'new_fee:'    Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'\n\n'        Text.Whitespace

'event'       Keyword
' '           Text.Whitespace
'ApplyNewFee:' Name.Variable
'\n    '      Text.Whitespace
'fee:'        Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'\n\n\n'      Text.Whitespace

'N_COINS:'    Name.Variable
' '           Text.Whitespace
'constant'    Keyword.Declaration
'('           Punctuation
'uint256'     Keyword.Type
')'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'2'           Literal.Number.Integer
'\n'          Text.Whitespace

'N_COINS_128:' Name.Variable
' '           Text.Whitespace
'constant'    Keyword.Declaration
'('           Punctuation
'int128'      Keyword.Type
')'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'2'           Literal.Number.Integer
'\n'          Text.Whitespace

'PRECISION:'  Name.Variable
' '           Text.Whitespace
'constant'    Keyword.Declaration
'('           Punctuation
'uint256'     Keyword.Type
')'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'10'          Literal.Number.Integer
' '           Text.Whitespace
'*'           Operator
'*'           Operator
' '           Text.Whitespace
'18'          Literal.Number.Integer
'\n'          Text.Whitespace

'ADMIN_ACTIONS_DEADLINE_DT:' Name.Variable
' '           Text.Whitespace
'constant'    Keyword.Declaration
'('           Punctuation
'uint256'     Keyword.Type
')'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'86400'       Literal.Number.Integer
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'3'           Literal.Number.Integer
'\n\n'        Text.Whitespace

'FEE_DENOMINATOR:' Name.Variable
' '           Text.Whitespace
'constant'    Keyword.Declaration
'('           Punctuation
'uint256'     Keyword.Type
')'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'10'          Literal.Number.Integer
' '           Text.Whitespace
'*'           Operator
'*'           Operator
' '           Text.Whitespace
'10'          Literal.Number.Integer
'\n'          Text.Whitespace

'ADMIN_FEE:'  Name.Variable
' '           Text.Whitespace
'constant'    Keyword.Declaration
'('           Punctuation
'uint256'     Keyword.Type
')'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'5000000000'  Literal.Number.Integer
'\n\n'        Text.Whitespace

'A_PRECISION:' Name.Variable
' '           Text.Whitespace
'constant'    Keyword.Declaration
'('           Punctuation
'uint256'     Keyword.Type
')'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'100'         Literal.Number.Integer
'\n'          Text.Whitespace

'MAX_FEE:'    Name.Variable
' '           Text.Whitespace
'constant'    Keyword.Declaration
'('           Punctuation
'uint256'     Keyword.Type
')'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'5'           Literal.Number.Integer
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'10'          Literal.Number.Integer
' '           Text.Whitespace
'*'           Operator
'*'           Operator
' '           Text.Whitespace
'9'           Literal.Number.Integer
'\n'          Text.Whitespace

'MAX_A:'      Name.Variable
' '           Text.Whitespace
'constant'    Keyword.Declaration
'('           Punctuation
'uint256'     Keyword.Type
')'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'10'          Literal.Number.Integer
' '           Text.Whitespace
'*'           Operator
'*'           Operator
' '           Text.Whitespace
'6'           Literal.Number.Integer
'\n'          Text.Whitespace

'MAX_A_CHANGE:' Name.Variable
' '           Text.Whitespace
'constant'    Keyword.Declaration
'('           Punctuation
'uint256'     Keyword.Type
')'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'10'          Literal.Number.Integer
'\n'          Text.Whitespace

'MIN_RAMP_TIME:' Name.Variable
' '           Text.Whitespace
'constant'    Keyword.Declaration
'('           Punctuation
'uint256'     Keyword.Type
')'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'86400'       Literal.Number.Integer
'\n\n'        Text.Whitespace

'EIP712_TYPEHASH:' Name.Variable
' '           Text.Whitespace
'constant'    Keyword.Declaration
'('           Punctuation
'bytes32'     Keyword.Type
')'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'keccak256'   Name.Builtin
'('           Punctuation
'"EIP712Domain(string name,string version,uint256 chainId,address verifyingContract)"' Literal.String.Double
')'           Punctuation
'\n'          Text.Whitespace

'PERMIT_TYPEHASH:' Name.Variable
' '           Text.Whitespace
'constant'    Keyword.Declaration
'('           Punctuation
'bytes32'     Keyword.Type
')'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'keccak256'   Name.Builtin
'('           Punctuation
'"Permit(address owner,address spender,uint256 value,uint256 nonce,uint256 deadline)"' Literal.String.Double
')'           Punctuation
'\n\n'        Text.Whitespace

'# keccak256("isValidSignature(bytes32,bytes)")[:4] << 224' Comment.Single
'\n'          Text.Whitespace

'ERC1271_MAGIC_VAL:' Name.Variable
' '           Text.Whitespace
'constant'    Keyword.Declaration
'('           Punctuation
'bytes32'     Keyword.Type
')'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'0x1626ba7e00000000000000000000000000000000000000000000000000000000' Literal.Number.Hex
'\n'          Text.Whitespace

'VERSION:'    Name.Variable
' '           Text.Whitespace
'constant'    Keyword.Declaration
'('           Punctuation
'String'      Keyword.Type
'['           Punctuation
'8'           Literal.Number.Integer
']'           Punctuation
')'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'"v6.0.1"'    Literal.String.Double
'\n\n\n'      Text.Whitespace

'factory:'    Name.Variable
' '           Text.Whitespace
'public'      Keyword.Declaration
'('           Punctuation
'address'     Keyword.Type
')'           Punctuation
'\n\n'        Text.Whitespace

'coins:'      Name.Variable
' '           Text.Whitespace
'public'      Keyword.Declaration
'('           Punctuation
'address'     Keyword.Type
'['           Punctuation
'N_COINS'     Name
']'           Punctuation
')'           Punctuation
'\n'          Text.Whitespace

'balances:'   Name.Variable
' '           Text.Whitespace
'public'      Keyword.Declaration
'('           Punctuation
'uint256'     Keyword.Type
'['           Punctuation
'N_COINS'     Name
']'           Punctuation
')'           Punctuation
'\n'          Text.Whitespace

'fee:'        Name.Variable
' '           Text.Whitespace
'public'      Keyword.Declaration
'('           Punctuation
'uint256'     Keyword.Type
')'           Punctuation
'  '          Text.Whitespace
'# fee * 1e10' Comment.Single
'\n'          Text.Whitespace

'future_fee:' Name.Variable
' '           Text.Whitespace
'public'      Keyword.Declaration
'('           Punctuation
'uint256'     Keyword.Type
')'           Punctuation
'\n'          Text.Whitespace

'admin_action_deadline:' Name.Variable
' '           Text.Whitespace
'public'      Keyword.Declaration
'('           Punctuation
'uint256'     Keyword.Type
')'           Punctuation
'\n\n'        Text.Whitespace

'initial_A:'  Name.Variable
' '           Text.Whitespace
'public'      Keyword.Declaration
'('           Punctuation
'uint256'     Keyword.Type
')'           Punctuation
'\n'          Text.Whitespace

'future_A:'   Name.Variable
' '           Text.Whitespace
'public'      Keyword.Declaration
'('           Punctuation
'uint256'     Keyword.Type
')'           Punctuation
'\n'          Text.Whitespace

'initial_A_time:' Name.Variable
' '           Text.Whitespace
'public'      Keyword.Declaration
'('           Punctuation
'uint256'     Keyword.Type
')'           Punctuation
'\n'          Text.Whitespace

'future_A_time:' Name.Variable
' '           Text.Whitespace
'public'      Keyword.Declaration
'('           Punctuation
'uint256'     Keyword.Type
')'           Punctuation
'\n\n'        Text.Whitespace

'rate_multipliers:' Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'['           Punctuation
'N_COINS'     Name
']'           Punctuation
'\n\n'        Text.Whitespace

'name:'       Name.Variable
' '           Text.Whitespace
'public'      Keyword.Declaration
'('           Punctuation
'String'      Keyword.Type
'['           Punctuation
'64'          Literal.Number.Integer
']'           Punctuation
')'           Punctuation
'\n'          Text.Whitespace

'symbol:'     Name.Variable
' '           Text.Whitespace
'public'      Keyword.Declaration
'('           Punctuation
'String'      Keyword.Type
'['           Punctuation
'32'          Literal.Number.Integer
']'           Punctuation
')'           Punctuation
'\n\n'        Text.Whitespace

'balanceOf:'  Name.Variable
' '           Text.Whitespace
'public'      Keyword.Declaration
'('           Punctuation
'HashMap'     Name
'['           Punctuation
'address'     Keyword.Type
','           Punctuation
' '           Text.Whitespace
'uint256'     Keyword.Type
']'           Punctuation
')'           Punctuation
'\n'          Text.Whitespace

'allowance:'  Name.Variable
' '           Text.Whitespace
'public'      Keyword.Declaration
'('           Punctuation
'HashMap'     Name
'['           Punctuation
'address'     Keyword.Type
','           Punctuation
' '           Text.Whitespace
'HashMap'     Name
'['           Punctuation
'address'     Keyword.Type
','           Punctuation
' '           Text.Whitespace
'uint256'     Keyword.Type
']'           Punctuation
']'           Punctuation
')'           Punctuation
'\n'          Text.Whitespace

'totalSupply:' Name.Variable
' '           Text.Whitespace
'public'      Keyword.Declaration
'('           Punctuation
'uint256'     Keyword.Type
')'           Punctuation
'\n\n'        Text.Whitespace

'DOMAIN_SEPARATOR:' Name.Variable
' '           Text.Whitespace
'public'      Keyword.Declaration
'('           Punctuation
'bytes32'     Keyword.Type
')'           Punctuation
'\n'          Text.Whitespace

'nonces:'     Name.Variable
' '           Text.Whitespace
'public'      Keyword.Declaration
'('           Punctuation
'HashMap'     Name
'['           Punctuation
'address'     Keyword.Type
','           Punctuation
' '           Text.Whitespace
'uint256'     Keyword.Type
']'           Punctuation
')'           Punctuation
'\n\n'        Text.Whitespace

'last_prices_packed:' Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'  '          Text.Whitespace
'#  [last_price, ma_price]' Comment.Single
'\n'          Text.Whitespace

'ma_exp_time:' Name.Variable
' '           Text.Whitespace
'public'      Keyword.Declaration
'('           Punctuation
'uint256'     Keyword.Type
')'           Punctuation
'\n'          Text.Whitespace

'ma_last_time:' Name.Variable
' '           Text.Whitespace
'public'      Keyword.Declaration
'('           Punctuation
'uint256'     Keyword.Type
')'           Punctuation
'\n\n\n'      Text.Whitespace

'@external'   Name.Decorator
'\n'          Text.Whitespace

'def'         Keyword
' '           Text.Whitespace
'__init__'    Name.Magic
'('           Punctuation
')'           Punctuation
':'           Punctuation
'\n    '      Text.Whitespace
'# we do this to prevent the implementation contract from being used as a pool' Comment.Single
'\n    '      Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'factory'     Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'0x0000000000000000000000000000000000000001' Literal.Number.Hex
'\n    '      Text.Whitespace
'assert'      Keyword
' '           Text.Whitespace
'N_COINS'     Name
' '           Text.Whitespace
'=='          Operator
' '           Text.Whitespace
'2'           Literal.Number.Integer
'\n\n\n'      Text.Whitespace

'@external'   Name.Decorator
'\n'          Text.Whitespace

'def'         Keyword
' '           Text.Whitespace
'initialize'  Name
'('           Punctuation
'\n    '      Text.Whitespace
'_name:'      Name.Variable
' '           Text.Whitespace
'String'      Keyword.Type
'['           Punctuation
'32'          Literal.Number.Integer
']'           Punctuation
','           Punctuation
'\n    '      Text.Whitespace
'_symbol:'    Name.Variable
' '           Text.Whitespace
'String'      Keyword.Type
'['           Punctuation
'10'          Literal.Number.Integer
']'           Punctuation
','           Punctuation
'\n    '      Text.Whitespace
'_coins:'     Name.Variable
' '           Text.Whitespace
'address'     Keyword.Type
'['           Punctuation
'4'           Literal.Number.Integer
']'           Punctuation
','           Punctuation
'\n    '      Text.Whitespace
'_rate_multipliers:' Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'['           Punctuation
'4'           Literal.Number.Integer
']'           Punctuation
','           Punctuation
'\n    '      Text.Whitespace
'_A:'         Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
','           Punctuation
'\n    '      Text.Whitespace
'_fee:'       Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
','           Punctuation
'\n'          Text.Whitespace

')'           Punctuation
':'           Punctuation
'\n    '      Text.Whitespace
'"""'         Comment.Multiline
'\n    @notice Contract constructor\n    @param _name Name of the new pool\n    @param _symbol Token symbol\n    @param _coins List of all ERC20 conract addresses of coins\n    @param _rate_multipliers List of number of decimals in coins\n    @param _A Amplification coefficient multiplied by n ** (n - 1)\n    @param _fee Fee to charge for exchanges\n    ' Comment.Multiline
'"""'         Comment.Multiline
'\n    '      Text.Whitespace
'# check if factory was already set to prevent initializing contract twice' Comment.Single
'\n    '      Text.Whitespace
'assert'      Keyword
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'factory'     Name
' '           Text.Whitespace
'=='          Operator
' '           Text.Whitespace
'empty'       Name.Builtin
'('           Punctuation
'address'     Keyword.Type
')'           Punctuation
'\n\n    '    Text.Whitespace
'for'         Keyword
' '           Text.Whitespace
'i'           Name
' '           Text.Whitespace
'in'          Keyword
' '           Text.Whitespace
'range'       Name.Builtin
'('           Punctuation
'N_COINS'     Name
')'           Punctuation
':'           Punctuation
'\n        '  Text.Whitespace
'coin:'       Name.Variable
' '           Text.Whitespace
'address'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'_coins'      Name
'['           Punctuation
'i'           Name
']'           Punctuation
'\n        '  Text.Whitespace
'if'          Keyword
' '           Text.Whitespace
'coin'        Name
' '           Text.Whitespace
'=='          Operator
' '           Text.Whitespace
'empty'       Name.Builtin
'('           Punctuation
'address'     Keyword.Type
')'           Punctuation
':'           Punctuation
'\n            ' Text.Whitespace
'break'       Name
'\n        '  Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'coins'       Name
'['           Punctuation
'i'           Name
']'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'coin'        Name
'\n        '  Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'rate_multipliers' Name
'['           Punctuation
'i'           Name
']'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'_rate_multipliers' Name
'['           Punctuation
'i'           Name
']'           Punctuation
'\n\n    '    Text.Whitespace
'A:'          Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'_A'          Name
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'A_PRECISION' Name
'\n    '      Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'initial_A'   Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'A'           Name
'\n    '      Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'future_A'    Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'A'           Name
'\n    '      Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'fee'         Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'_fee'        Name
'\n    '      Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'factory'     Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'msg.sender'  Name.Builtin.Pseudo
'\n    '      Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'ma_exp_time' Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'866'         Literal.Number.Integer
'  '          Text.Whitespace
'# = 600 / ln(2)' Comment.Single
'\n    '      Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'last_prices_packed' Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'pack_prices' Name
'('           Punctuation
'10'          Literal.Number.Integer
'*'           Operator
'*'           Operator
'18'          Literal.Number.Integer
','           Punctuation
' '           Text.Whitespace
'10'          Literal.Number.Integer
'*'           Operator
'*'           Operator
'18'          Literal.Number.Integer
')'           Punctuation
'\n    '      Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'ma_last_time' Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'block.timestamp' Name.Builtin.Pseudo
'\n\n    '    Text.Whitespace
'name:'       Name.Variable
' '           Text.Whitespace
'String'      Keyword.Type
'['           Punctuation
'64'          Literal.Number.Integer
']'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'concat'      Name.Builtin
'('           Punctuation
'"Curve.fi Factory Plain Pool: "' Literal.String.Double
','           Punctuation
' '           Text.Whitespace
'_name'       Name
')'           Punctuation
'\n    '      Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'name'        Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'name'        Name
'\n    '      Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'symbol'      Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'concat'      Name.Builtin
'('           Punctuation
'_symbol'     Name
','           Punctuation
' '           Text.Whitespace
'"-f"'        Literal.String.Double
')'           Punctuation
'\n\n    '    Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'DOMAIN_SEPARATOR' Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'keccak256'   Name.Builtin
'('           Punctuation
'\n        '  Text.Whitespace
'_abi_encode' Name.Builtin
'('           Punctuation
'EIP712_TYPEHASH' Name
','           Punctuation
' '           Text.Whitespace
'keccak256'   Name.Builtin
'('           Punctuation
'name'        Name
')'           Punctuation
','           Punctuation
' '           Text.Whitespace
'keccak256'   Name.Builtin
'('           Punctuation
'VERSION'     Name
')'           Punctuation
','           Punctuation
' '           Text.Whitespace
'chain'       Name
'.'           Punctuation
'id'          Name
','           Punctuation
' '           Text.Whitespace
'self'        Name.Attribute
')'           Punctuation
'\n    '      Text.Whitespace
')'           Punctuation
'\n\n    '    Text.Whitespace
'# fire a transfer event so block explorers identify the contract as an ERC20' Comment.Single
'\n    '      Text.Whitespace
'log'         Keyword
' '           Text.Whitespace
'Transfer'    Name
'('           Punctuation
'empty'       Name.Builtin
'('           Punctuation
'address'     Keyword.Type
')'           Punctuation
','           Punctuation
' '           Text.Whitespace
'self'        Name.Attribute
','           Punctuation
' '           Text.Whitespace
'0'           Literal.Number.Integer
')'           Punctuation
'\n\n\n'      Text.Whitespace

'### ERC20 Functionality ###' Comment.Single
'\n\n'        Text.Whitespace

'@view'       Name.Decorator
'\n'          Text.Whitespace

'@external'   Name.Decorator
'\n'          Text.Whitespace

'def'         Keyword
' '           Text.Whitespace
'decimals'    Name
'('           Punctuation
')'           Punctuation
' '           Text.Whitespace
'-'           Operator
'>'           Operator
' '           Text.Whitespace
'uint8'       Keyword.Type
':'           Punctuation
'\n    '      Text.Whitespace
'"""'         Comment.Multiline
'\n    @notice Get the number of decimals for this token\n    @dev Implemented as a view method to reduce gas costs\n    @return uint8 decimal places\n    ' Comment.Multiline
'"""'         Comment.Multiline
'\n    '      Text.Whitespace
'return'      Keyword
' '           Text.Whitespace
'18'          Literal.Number.Integer
'\n\n\n'      Text.Whitespace

'@internal'   Name.Decorator
'\n'          Text.Whitespace

'def'         Keyword
' '           Text.Whitespace
'_transfer'   Name
'('           Punctuation
'_from:'      Name.Variable
' '           Text.Whitespace
'address'     Keyword.Type
','           Punctuation
' '           Text.Whitespace
'_to:'        Name.Variable
' '           Text.Whitespace
'address'     Keyword.Type
','           Punctuation
' '           Text.Whitespace
'_value:'     Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
')'           Punctuation
':'           Punctuation
'\n    '      Text.Whitespace
'# # NOTE: vyper does not allow underflows' Comment.Single
'\n    '      Text.Whitespace
'# #       so the following subtraction would revert on insufficient balance' Comment.Single
'\n    '      Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'balanceOf'   Name
'['           Punctuation
'_from'       Name
']'           Punctuation
' '           Text.Whitespace
'-'           Operator
'='           Operator
' '           Text.Whitespace
'_value'      Name
'\n    '      Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'balanceOf'   Name
'['           Punctuation
'_to'         Name
']'           Punctuation
' '           Text.Whitespace
'+'           Operator
'='           Operator
' '           Text.Whitespace
'_value'      Name
'\n\n    '    Text.Whitespace
'log'         Keyword
' '           Text.Whitespace
'Transfer'    Name
'('           Punctuation
'_from'       Name
','           Punctuation
' '           Text.Whitespace
'_to'         Name
','           Punctuation
' '           Text.Whitespace
'_value'      Name
')'           Punctuation
'\n\n\n'      Text.Whitespace

'@external'   Name.Decorator
'\n'          Text.Whitespace

'def'         Keyword
' '           Text.Whitespace
'transfer'    Name
'('           Punctuation
'_to'         Name
' '           Text.Whitespace
':'           Punctuation
' '           Text.Whitespace
'address'     Keyword.Type
','           Punctuation
' '           Text.Whitespace
'_value'      Name
' '           Text.Whitespace
':'           Punctuation
' '           Text.Whitespace
'uint256'     Keyword.Type
')'           Punctuation
' '           Text.Whitespace
'-'           Operator
'>'           Operator
' '           Text.Whitespace
'bool'        Keyword.Type
':'           Punctuation
'\n    '      Text.Whitespace
'"""'         Comment.Multiline
'\n    @dev Transfer token for a specified address\n    @param _to The address to transfer to.\n    @param _value The amount to be transferred.\n    ' Comment.Multiline
'"""'         Comment.Multiline
'\n    '      Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'_transfer'   Name
'('           Punctuation
'msg.sender'  Name.Builtin.Pseudo
','           Punctuation
' '           Text.Whitespace
'_to'         Name
','           Punctuation
' '           Text.Whitespace
'_value'      Name
')'           Punctuation
'\n    '      Text.Whitespace
'return'      Keyword
' '           Text.Whitespace
'True'        Name
'\n\n\n'      Text.Whitespace

'@external'   Name.Decorator
'\n'          Text.Whitespace

'def'         Keyword
' '           Text.Whitespace
'transferFrom' Name
'('           Punctuation
'_from'       Name
' '           Text.Whitespace
':'           Punctuation
' '           Text.Whitespace
'address'     Keyword.Type
','           Punctuation
' '           Text.Whitespace
'_to'         Name
' '           Text.Whitespace
':'           Punctuation
' '           Text.Whitespace
'address'     Keyword.Type
','           Punctuation
' '           Text.Whitespace
'_value'      Name
' '           Text.Whitespace
':'           Punctuation
' '           Text.Whitespace
'uint256'     Keyword.Type
')'           Punctuation
' '           Text.Whitespace
'-'           Operator
'>'           Operator
' '           Text.Whitespace
'bool'        Keyword.Type
':'           Punctuation
'\n    '      Text.Whitespace
'"""'         Comment.Multiline
'\n     @dev Transfer tokens from one address to another.\n     @param _from address The address which you want to send tokens from\n     @param _to address The address which you want to transfer to\n     @param _value uint256 the amount of tokens to be transferred\n    ' Comment.Multiline
'"""'         Comment.Multiline
'\n    '      Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'_transfer'   Name
'('           Punctuation
'_from'       Name
','           Punctuation
' '           Text.Whitespace
'_to'         Name
','           Punctuation
' '           Text.Whitespace
'_value'      Name
')'           Punctuation
'\n\n    '    Text.Whitespace
'_allowance:' Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'allowance'   Name
'['           Punctuation
'_from'       Name
']'           Punctuation
'['           Punctuation
'msg.sender'  Name.Builtin.Pseudo
']'           Punctuation
'\n    '      Text.Whitespace
'if'          Keyword
' '           Text.Whitespace
'_allowance'  Name
' '           Text.Whitespace
'!='          Operator
' '           Text.Whitespace
'max_value'   Name.Builtin
'('           Punctuation
'uint256'     Keyword.Type
')'           Punctuation
':'           Punctuation
'\n        '  Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'allowance'   Name
'['           Punctuation
'_from'       Name
']'           Punctuation
'['           Punctuation
'msg.sender'  Name.Builtin.Pseudo
']'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'_allowance'  Name
' '           Text.Whitespace
'-'           Operator
' '           Text.Whitespace
'_value'      Name
'\n\n    '    Text.Whitespace
'return'      Keyword
' '           Text.Whitespace
'True'        Name
'\n\n\n'      Text.Whitespace

'@external'   Name.Decorator
'\n'          Text.Whitespace

'def'         Keyword
' '           Text.Whitespace
'approve'     Name
'('           Punctuation
'_spender'    Name
' '           Text.Whitespace
':'           Punctuation
' '           Text.Whitespace
'address'     Keyword.Type
','           Punctuation
' '           Text.Whitespace
'_value'      Name
' '           Text.Whitespace
':'           Punctuation
' '           Text.Whitespace
'uint256'     Keyword.Type
')'           Punctuation
' '           Text.Whitespace
'-'           Operator
'>'           Operator
' '           Text.Whitespace
'bool'        Keyword.Type
':'           Punctuation
'\n    '      Text.Whitespace
'"""'         Comment.Multiline
'\n    @notice Approve the passed address to transfer the specified amount of\n            tokens on behalf of msg.sender\n    @dev Beware that changing an allowance via this method brings the risk that\n         someone may use both the old and new allowance by unfortunate transaction\n         ordering: https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729\n    @param _spender The address which will transfer the funds\n    @param _value The amount of tokens that may be transferred\n    @return bool success\n    ' Comment.Multiline
'"""'         Comment.Multiline
'\n    '      Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'allowance'   Name
'['           Punctuation
'msg.sender'  Name.Builtin.Pseudo
']'           Punctuation
'['           Punctuation
'_spender'    Name
']'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'_value'      Name
'\n\n    '    Text.Whitespace
'log'         Keyword
' '           Text.Whitespace
'Approval'    Name
'('           Punctuation
'msg.sender'  Name.Builtin.Pseudo
','           Punctuation
' '           Text.Whitespace
'_spender'    Name
','           Punctuation
' '           Text.Whitespace
'_value'      Name
')'           Punctuation
'\n    '      Text.Whitespace
'return'      Keyword
' '           Text.Whitespace
'True'        Name
'\n\n\n'      Text.Whitespace

'@external'   Name.Decorator
'\n'          Text.Whitespace

'def'         Keyword
' '           Text.Whitespace
'permit'      Name
'('           Punctuation
'\n    '      Text.Whitespace
'_owner:'     Name.Variable
' '           Text.Whitespace
'address'     Keyword.Type
','           Punctuation
'\n    '      Text.Whitespace
'_spender:'   Name.Variable
' '           Text.Whitespace
'address'     Keyword.Type
','           Punctuation
'\n    '      Text.Whitespace
'_value:'     Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
','           Punctuation
'\n    '      Text.Whitespace
'_deadline:'  Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
','           Punctuation
'\n    '      Text.Whitespace
'_v:'         Name.Variable
' '           Text.Whitespace
'uint8'       Keyword.Type
','           Punctuation
'\n    '      Text.Whitespace
'_r:'         Name.Variable
' '           Text.Whitespace
'bytes32'     Keyword.Type
','           Punctuation
'\n    '      Text.Whitespace
'_s:'         Name.Variable
' '           Text.Whitespace
'bytes32'     Keyword.Type
'\n'          Text.Whitespace

')'           Punctuation
' '           Text.Whitespace
'-'           Operator
'>'           Operator
' '           Text.Whitespace
'bool'        Keyword.Type
':'           Punctuation
'\n    '      Text.Whitespace
'"""'         Comment.Multiline
"\n    @notice Approves spender by owner's signature to expend owner's tokens.\n        See https://eips.ethereum.org/EIPS/eip-2612.\n    @dev Inspired by https://github.com/yearn/yearn-vaults/blob/main/contracts/Vault.vy#L753-L793\n    @dev Supports smart contract wallets which implement ERC1271\n        https://eips.ethereum.org/EIPS/eip-1271\n    @param _owner The address which is a source of funds and has signed the Permit.\n    @param _spender The address which is allowed to spend the funds.\n    @param _value The amount of tokens to be spent.\n    @param _deadline The timestamp after which the Permit is no longer valid.\n    @param _v The bytes[64] of the valid secp256k1 signature of permit by owner\n    @param _r The bytes[0:32] of the valid secp256k1 signature of permit by owner\n    @param _s The bytes[32:64] of the valid secp256k1 signature of permit by owner\n    @return True, if transaction completes successfully\n    " Comment.Multiline
'"""'         Comment.Multiline
'\n    '      Text.Whitespace
'assert'      Keyword
' '           Text.Whitespace
'_owner'      Name
' '           Text.Whitespace
'!='          Operator
' '           Text.Whitespace
'empty'       Name.Builtin
'('           Punctuation
'address'     Keyword.Type
')'           Punctuation
'\n    '      Text.Whitespace
'assert'      Keyword
' '           Text.Whitespace
'block.timestamp' Name.Builtin.Pseudo
' '           Text.Whitespace
'<='          Operator
' '           Text.Whitespace
'_deadline'   Name
'\n\n    '    Text.Whitespace
'nonce:'      Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'nonces'      Name
'['           Punctuation
'_owner'      Name
']'           Punctuation
'\n    '      Text.Whitespace
'digest:'     Name.Variable
' '           Text.Whitespace
'bytes32'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'keccak256'   Name.Builtin
'('           Punctuation
'\n        '  Text.Whitespace
'concat'      Name.Builtin
'('           Punctuation
'\n            ' Text.Whitespace
'b'           Name
'"\\x19\\x01"' Literal.String.Double
','           Punctuation
'\n            ' Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'DOMAIN_SEPARATOR' Name
','           Punctuation
'\n            ' Text.Whitespace
'keccak256'   Name.Builtin
'('           Punctuation
'_abi_encode' Name.Builtin
'('           Punctuation
'PERMIT_TYPEHASH' Name
','           Punctuation
' '           Text.Whitespace
'_owner'      Name
','           Punctuation
' '           Text.Whitespace
'_spender'    Name
','           Punctuation
' '           Text.Whitespace
'_value'      Name
','           Punctuation
' '           Text.Whitespace
'nonce'       Name
','           Punctuation
' '           Text.Whitespace
'_deadline'   Name
')'           Punctuation
')'           Punctuation
'\n        '  Text.Whitespace
')'           Punctuation
'\n    '      Text.Whitespace
')'           Punctuation
'\n\n    '    Text.Whitespace
'if'          Keyword
' '           Text.Whitespace
'_owner'      Name
'.'           Punctuation
'is_contract:' Name.Variable
'\n        '  Text.Whitespace
'sig:'        Name.Variable
' '           Text.Whitespace
'Bytes'       Name
'['           Punctuation
'65'          Literal.Number.Integer
']'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'concat'      Name.Builtin
'('           Punctuation
'_abi_encode' Name.Builtin
'('           Punctuation
'_r'          Name
','           Punctuation
' '           Text.Whitespace
'_s'          Name
')'           Punctuation
','           Punctuation
' '           Text.Whitespace
'slice'       Name.Builtin
'('           Punctuation
'convert'     Name.Builtin
'('           Punctuation
'_v'          Name
','           Punctuation
' '           Text.Whitespace
'bytes32'     Keyword.Type
')'           Punctuation
','           Punctuation
' '           Text.Whitespace
'31'          Literal.Number.Integer
','           Punctuation
' '           Text.Whitespace
'1'           Literal.Number.Integer
')'           Punctuation
')'           Punctuation
'\n        '  Text.Whitespace
'# reentrancy not a concern since this is a staticcall' Comment.Single
'\n        '  Text.Whitespace
'assert'      Keyword
' '           Text.Whitespace
'ERC1271'     Name
'('           Punctuation
'_owner'      Name
')'           Punctuation
'.'           Punctuation
'isValidSignature' Name
'('           Punctuation
'digest'      Name
','           Punctuation
' '           Text.Whitespace
'sig'         Name
')'           Punctuation
' '           Text.Whitespace
'=='          Operator
' '           Text.Whitespace
'ERC1271_MAGIC_VAL' Name
'\n    '      Text.Whitespace
'else'        Keyword
':'           Punctuation
'\n        '  Text.Whitespace
'assert'      Keyword
' '           Text.Whitespace
'ecrecover'   Name.Builtin
'('           Punctuation
'digest'      Name
','           Punctuation
' '           Text.Whitespace
'convert'     Name.Builtin
'('           Punctuation
'_v'          Name
','           Punctuation
' '           Text.Whitespace
'uint256'     Keyword.Type
')'           Punctuation
','           Punctuation
' '           Text.Whitespace
'convert'     Name.Builtin
'('           Punctuation
'_r'          Name
','           Punctuation
' '           Text.Whitespace
'uint256'     Keyword.Type
')'           Punctuation
','           Punctuation
' '           Text.Whitespace
'convert'     Name.Builtin
'('           Punctuation
'_s'          Name
','           Punctuation
' '           Text.Whitespace
'uint256'     Keyword.Type
')'           Punctuation
')'           Punctuation
' '           Text.Whitespace
'=='          Operator
' '           Text.Whitespace
'_owner'      Name
'\n\n    '    Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'allowance'   Name
'['           Punctuation
'_owner'      Name
']'           Punctuation
'['           Punctuation
'_spender'    Name
']'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'_value'      Name
'\n    '      Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'nonces'      Name
'['           Punctuation
'_owner'      Name
']'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'nonce'       Name
' '           Text.Whitespace
'+'           Operator
' '           Text.Whitespace
'1'           Literal.Number.Integer
'\n\n    '    Text.Whitespace
'log'         Keyword
' '           Text.Whitespace
'Approval'    Name
'('           Punctuation
'_owner'      Name
','           Punctuation
' '           Text.Whitespace
'_spender'    Name
','           Punctuation
' '           Text.Whitespace
'_value'      Name
')'           Punctuation
'\n    '      Text.Whitespace
'return'      Keyword
' '           Text.Whitespace
'True'        Name
'\n\n\n'      Text.Whitespace

'### StableSwap Functionality ###' Comment.Single
'\n\n'        Text.Whitespace

'@pure'       Name.Decorator
'\n'          Text.Whitespace

'@internal'   Name.Decorator
'\n'          Text.Whitespace

'def'         Keyword
' '           Text.Whitespace
'pack_prices' Name
'('           Punctuation
'p1:'         Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
','           Punctuation
' '           Text.Whitespace
'p2:'         Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
')'           Punctuation
' '           Text.Whitespace
'-'           Operator
'>'           Operator
' '           Text.Whitespace
'uint256'     Keyword.Type
':'           Punctuation
'\n    '      Text.Whitespace
'assert'      Keyword
' '           Text.Whitespace
'p1'          Name
' '           Text.Whitespace
'<'           Operator
' '           Text.Whitespace
'2'           Literal.Number.Integer
'*'           Operator
'*'           Operator
'128'         Literal.Number.Integer
'\n    '      Text.Whitespace
'assert'      Keyword
' '           Text.Whitespace
'p2'          Name
' '           Text.Whitespace
'<'           Operator
' '           Text.Whitespace
'2'           Literal.Number.Integer
'*'           Operator
'*'           Operator
'128'         Literal.Number.Integer
'\n    '      Text.Whitespace
'return'      Keyword
' '           Text.Whitespace
'p1'          Name
' '           Text.Whitespace
'|'           Operator
' '           Text.Whitespace
'shift'       Name.Builtin
'('           Punctuation
'p2'          Name
','           Punctuation
' '           Text.Whitespace
'128'         Literal.Number.Integer
')'           Punctuation
'\n\n\n'      Text.Whitespace

'@view'       Name.Decorator
'\n'          Text.Whitespace

'@external'   Name.Decorator
'\n'          Text.Whitespace

'def'         Keyword
' '           Text.Whitespace
'last_price'  Name
'('           Punctuation
')'           Punctuation
' '           Text.Whitespace
'-'           Operator
'>'           Operator
' '           Text.Whitespace
'uint256'     Keyword.Type
':'           Punctuation
'\n    '      Text.Whitespace
'return'      Keyword
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'last_prices_packed' Name
' '           Text.Whitespace
'&'           Operator
' '           Text.Whitespace
'('           Punctuation
'2'           Literal.Number.Integer
'*'           Operator
'*'           Operator
'128'         Literal.Number.Integer
' '           Text.Whitespace
'-'           Operator
' '           Text.Whitespace
'1'           Literal.Number.Integer
')'           Punctuation
'\n\n\n'      Text.Whitespace

'@view'       Name.Decorator
'\n'          Text.Whitespace

'@external'   Name.Decorator
'\n'          Text.Whitespace

'def'         Keyword
' '           Text.Whitespace
'ema_price'   Name
'('           Punctuation
')'           Punctuation
' '           Text.Whitespace
'-'           Operator
'>'           Operator
' '           Text.Whitespace
'uint256'     Keyword.Type
':'           Punctuation
'\n    '      Text.Whitespace
'return'      Keyword
' '           Text.Whitespace
'shift'       Name.Builtin
'('           Punctuation
'self'        Name.Attribute
'.'           Punctuation
'last_prices_packed' Name
','           Punctuation
' '           Text.Whitespace
'-'           Operator
'128'         Literal.Number.Integer
')'           Punctuation
'\n\n\n'      Text.Whitespace

'@view'       Name.Decorator
'\n'          Text.Whitespace

'@external'   Name.Decorator
'\n'          Text.Whitespace

'def'         Keyword
' '           Text.Whitespace
'get_balances' Name
'('           Punctuation
')'           Punctuation
' '           Text.Whitespace
'-'           Operator
'>'           Operator
' '           Text.Whitespace
'uint256'     Keyword.Type
'['           Punctuation
'N_COINS'     Name
']'           Punctuation
':'           Punctuation
'\n    '      Text.Whitespace
'return'      Keyword
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'balances'    Name
'\n\n\n'      Text.Whitespace

'@view'       Name.Decorator
'\n'          Text.Whitespace

'@internal'   Name.Decorator
'\n'          Text.Whitespace

'def'         Keyword
' '           Text.Whitespace
'_A'          Name
'('           Punctuation
')'           Punctuation
' '           Text.Whitespace
'-'           Operator
'>'           Operator
' '           Text.Whitespace
'uint256'     Keyword.Type
':'           Punctuation
'\n    '      Text.Whitespace
'"""'         Comment.Multiline
'\n    Handle ramping A up or down\n    ' Comment.Multiline
'"""'         Comment.Multiline
'\n    '      Text.Whitespace
't1:'         Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'future_A_time' Name
'\n    '      Text.Whitespace
'A1:'         Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'future_A'    Name
'\n\n    '    Text.Whitespace
'if'          Keyword
' '           Text.Whitespace
'block.timestamp' Name.Builtin.Pseudo
' '           Text.Whitespace
'<'           Operator
' '           Text.Whitespace
't1:'         Name.Variable
'\n        '  Text.Whitespace
'A0:'         Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'initial_A'   Name
'\n        '  Text.Whitespace
't0:'         Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'initial_A_time' Name
'\n        '  Text.Whitespace
'# Expressions in uint256 cannot have negative numbers, thus "if"' Comment.Single
'\n        '  Text.Whitespace
'if'          Keyword
' '           Text.Whitespace
'A1'          Name
' '           Text.Whitespace
'>'           Operator
' '           Text.Whitespace
'A0:'         Name.Variable
'\n            ' Text.Whitespace
'return'      Keyword
' '           Text.Whitespace
'A0'          Name
' '           Text.Whitespace
'+'           Operator
' '           Text.Whitespace
'('           Punctuation
'A1'          Name
' '           Text.Whitespace
'-'           Operator
' '           Text.Whitespace
'A0'          Name
')'           Punctuation
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'('           Punctuation
'block.timestamp' Name.Builtin.Pseudo
' '           Text.Whitespace
'-'           Operator
' '           Text.Whitespace
't0'          Name
')'           Punctuation
' '           Text.Whitespace
'/'           Operator
' '           Text.Whitespace
'('           Punctuation
't1'          Name
' '           Text.Whitespace
'-'           Operator
' '           Text.Whitespace
't0'          Name
')'           Punctuation
'\n        '  Text.Whitespace
'else'        Keyword
':'           Punctuation
'\n            ' Text.Whitespace
'return'      Keyword
' '           Text.Whitespace
'A0'          Name
' '           Text.Whitespace
'-'           Operator
' '           Text.Whitespace
'('           Punctuation
'A0'          Name
' '           Text.Whitespace
'-'           Operator
' '           Text.Whitespace
'A1'          Name
')'           Punctuation
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'('           Punctuation
'block.timestamp' Name.Builtin.Pseudo
' '           Text.Whitespace
'-'           Operator
' '           Text.Whitespace
't0'          Name
')'           Punctuation
' '           Text.Whitespace
'/'           Operator
' '           Text.Whitespace
'('           Punctuation
't1'          Name
' '           Text.Whitespace
'-'           Operator
' '           Text.Whitespace
't0'          Name
')'           Punctuation
'\n\n    '    Text.Whitespace
'else'        Keyword
':'           Punctuation
'  '          Text.Whitespace
'# when t1 == 0 or block.timestamp >= t1' Comment.Single
'\n        '  Text.Whitespace
'return'      Keyword
' '           Text.Whitespace
'A1'          Name
'\n\n\n'      Text.Whitespace

'@view'       Name.Decorator
'\n'          Text.Whitespace

'@external'   Name.Decorator
'\n'          Text.Whitespace

'def'         Keyword
' '           Text.Whitespace
'admin_fee'   Name
'('           Punctuation
')'           Punctuation
' '           Text.Whitespace
'-'           Operator
'>'           Operator
' '           Text.Whitespace
'uint256'     Keyword.Type
':'           Punctuation
'\n    '      Text.Whitespace
'return'      Keyword
' '           Text.Whitespace
'ADMIN_FEE'   Name
'\n\n\n'      Text.Whitespace

'@view'       Name.Decorator
'\n'          Text.Whitespace

'@external'   Name.Decorator
'\n'          Text.Whitespace

'def'         Keyword
' '           Text.Whitespace
'A'           Name
'('           Punctuation
')'           Punctuation
' '           Text.Whitespace
'-'           Operator
'>'           Operator
' '           Text.Whitespace
'uint256'     Keyword.Type
':'           Punctuation
'\n    '      Text.Whitespace
'return'      Keyword
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'_A'          Name
'('           Punctuation
')'           Punctuation
' '           Text.Whitespace
'/'           Operator
' '           Text.Whitespace
'A_PRECISION' Name
'\n\n\n'      Text.Whitespace

'@view'       Name.Decorator
'\n'          Text.Whitespace

'@external'   Name.Decorator
'\n'          Text.Whitespace

'def'         Keyword
' '           Text.Whitespace
'A_precise'   Name
'('           Punctuation
')'           Punctuation
' '           Text.Whitespace
'-'           Operator
'>'           Operator
' '           Text.Whitespace
'uint256'     Keyword.Type
':'           Punctuation
'\n    '      Text.Whitespace
'return'      Keyword
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'_A'          Name
'('           Punctuation
')'           Punctuation
'\n\n\n'      Text.Whitespace

'@pure'       Name.Decorator
'\n'          Text.Whitespace

'@internal'   Name.Decorator
'\n'          Text.Whitespace

'def'         Keyword
' '           Text.Whitespace
'_xp_mem'     Name
'('           Punctuation
'_rates:'     Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'['           Punctuation
'N_COINS'     Name
']'           Punctuation
','           Punctuation
' '           Text.Whitespace
'_balances:'  Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'['           Punctuation
'N_COINS'     Name
']'           Punctuation
')'           Punctuation
' '           Text.Whitespace
'-'           Operator
'>'           Operator
' '           Text.Whitespace
'uint256'     Keyword.Type
'['           Punctuation
'N_COINS'     Name
']'           Punctuation
':'           Punctuation
'\n    '      Text.Whitespace
'result:'     Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'['           Punctuation
'N_COINS'     Name
']'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'empty'       Name.Builtin
'('           Punctuation
'uint256'     Keyword.Type
'['           Punctuation
'N_COINS'     Name
']'           Punctuation
')'           Punctuation
'\n    '      Text.Whitespace
'for'         Keyword
' '           Text.Whitespace
'i'           Name
' '           Text.Whitespace
'in'          Keyword
' '           Text.Whitespace
'range'       Name.Builtin
'('           Punctuation
'N_COINS'     Name
')'           Punctuation
':'           Punctuation
'\n        '  Text.Whitespace
'result'      Name
'['           Punctuation
'i'           Name
']'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'_rates'      Name
'['           Punctuation
'i'           Name
']'           Punctuation
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'_balances'   Name
'['           Punctuation
'i'           Name
']'           Punctuation
' '           Text.Whitespace
'/'           Operator
' '           Text.Whitespace
'PRECISION'   Name
'\n    '      Text.Whitespace
'return'      Keyword
' '           Text.Whitespace
'result'      Name
'\n\n\n'      Text.Whitespace

'@pure'       Name.Decorator
'\n'          Text.Whitespace

'@internal'   Name.Decorator
'\n'          Text.Whitespace

'def'         Keyword
' '           Text.Whitespace
'get_D'       Name
'('           Punctuation
'_xp:'        Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'['           Punctuation
'N_COINS'     Name
']'           Punctuation
','           Punctuation
' '           Text.Whitespace
'_amp:'       Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
')'           Punctuation
' '           Text.Whitespace
'-'           Operator
'>'           Operator
' '           Text.Whitespace
'uint256'     Keyword.Type
':'           Punctuation
'\n    '      Text.Whitespace
'"""'         Comment.Multiline
'\n    D invariant calculation in non-overflowing integer operations\n    iteratively\n\n    A * sum(x_i) * n**n + D = A * D * n**n + D**(n+1) / (n**n * prod(x_i))\n\n    Converging solution:\n    D[j+1] = (A * n**n * sum(x_i) - D[j]**(n+1) / (n**n prod(x_i))) / (A * n**n - 1)\n    ' Comment.Multiline
'"""'         Comment.Multiline
'\n    '      Text.Whitespace
'S:'          Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'0'           Literal.Number.Integer
'\n    '      Text.Whitespace
'for'         Keyword
' '           Text.Whitespace
'x'           Name
' '           Text.Whitespace
'in'          Keyword
' '           Text.Whitespace
'_xp:'        Name.Variable
'\n        '  Text.Whitespace
'S'           Name
' '           Text.Whitespace
'+'           Operator
'='           Operator
' '           Text.Whitespace
'x'           Name
'\n    '      Text.Whitespace
'if'          Keyword
' '           Text.Whitespace
'S'           Name
' '           Text.Whitespace
'=='          Operator
' '           Text.Whitespace
'0'           Literal.Number.Integer
':'           Punctuation
'\n        '  Text.Whitespace
'return'      Keyword
' '           Text.Whitespace
'0'           Literal.Number.Integer
'\n\n    '    Text.Whitespace
'D:'          Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'S'           Name
'\n    '      Text.Whitespace
'Ann:'        Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'_amp'        Name
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'N_COINS'     Name
'\n    '      Text.Whitespace
'for'         Keyword
' '           Text.Whitespace
'i'           Name
' '           Text.Whitespace
'in'          Keyword
' '           Text.Whitespace
'range'       Name.Builtin
'('           Punctuation
'255'         Literal.Number.Integer
')'           Punctuation
':'           Punctuation
'\n        '  Text.Whitespace
'D_P:'        Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'D'           Name
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'D'           Name
' '           Text.Whitespace
'/'           Operator
' '           Text.Whitespace
'_xp'         Name
'['           Punctuation
'0'           Literal.Number.Integer
']'           Punctuation
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'D'           Name
' '           Text.Whitespace
'/'           Operator
' '           Text.Whitespace
'_xp'         Name
'['           Punctuation
'1'           Literal.Number.Integer
']'           Punctuation
' '           Text.Whitespace
'/'           Operator
' '           Text.Whitespace
'N_COINS'     Name
'*'           Operator
'*'           Operator
'N_COINS'     Name
'\n        '  Text.Whitespace
'Dprev:'      Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'D'           Name
'\n        '  Text.Whitespace
'D'           Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'('           Punctuation
'Ann'         Name
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'S'           Name
' '           Text.Whitespace
'/'           Operator
' '           Text.Whitespace
'A_PRECISION' Name
' '           Text.Whitespace
'+'           Operator
' '           Text.Whitespace
'D_P'         Name
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'N_COINS'     Name
')'           Punctuation
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'D'           Name
' '           Text.Whitespace
'/'           Operator
' '           Text.Whitespace
'('           Punctuation
'('           Punctuation
'Ann'         Name
' '           Text.Whitespace
'-'           Operator
' '           Text.Whitespace
'A_PRECISION' Name
')'           Punctuation
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'D'           Name
' '           Text.Whitespace
'/'           Operator
' '           Text.Whitespace
'A_PRECISION' Name
' '           Text.Whitespace
'+'           Operator
' '           Text.Whitespace
'('           Punctuation
'N_COINS'     Name
' '           Text.Whitespace
'+'           Operator
' '           Text.Whitespace
'1'           Literal.Number.Integer
')'           Punctuation
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'D_P'         Name
')'           Punctuation
'\n        '  Text.Whitespace
'# Equality with the precision of 1' Comment.Single
'\n        '  Text.Whitespace
'if'          Keyword
' '           Text.Whitespace
'D'           Name
' '           Text.Whitespace
'>'           Operator
' '           Text.Whitespace
'Dprev:'      Name.Variable
'\n            ' Text.Whitespace
'if'          Keyword
' '           Text.Whitespace
'D'           Name
' '           Text.Whitespace
'-'           Operator
' '           Text.Whitespace
'Dprev'       Name
' '           Text.Whitespace
'<='          Operator
' '           Text.Whitespace
'1'           Literal.Number.Integer
':'           Punctuation
'\n                ' Text.Whitespace
'return'      Keyword
' '           Text.Whitespace
'D'           Name
'\n        '  Text.Whitespace
'else'        Keyword
':'           Punctuation
'\n            ' Text.Whitespace
'if'          Keyword
' '           Text.Whitespace
'Dprev'       Name
' '           Text.Whitespace
'-'           Operator
' '           Text.Whitespace
'D'           Name
' '           Text.Whitespace
'<='          Operator
' '           Text.Whitespace
'1'           Literal.Number.Integer
':'           Punctuation
'\n                ' Text.Whitespace
'return'      Keyword
' '           Text.Whitespace
'D'           Name
'\n    '      Text.Whitespace
'# convergence typically occurs in 4 rounds or less, this should be unreachable!' Comment.Single
'\n    '      Text.Whitespace
'# if it does happen the pool is borked and LPs can withdraw via `remove_liquidity`' Comment.Single
'\n    '      Text.Whitespace
'raise'       Keyword
'\n\n\n'      Text.Whitespace

'@view'       Name.Decorator
'\n'          Text.Whitespace

'@internal'   Name.Decorator
'\n'          Text.Whitespace

'def'         Keyword
' '           Text.Whitespace
'get_D_mem'   Name
'('           Punctuation
'_rates:'     Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'['           Punctuation
'N_COINS'     Name
']'           Punctuation
','           Punctuation
' '           Text.Whitespace
'_balances:'  Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'['           Punctuation
'N_COINS'     Name
']'           Punctuation
','           Punctuation
' '           Text.Whitespace
'_amp:'       Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
')'           Punctuation
' '           Text.Whitespace
'-'           Operator
'>'           Operator
' '           Text.Whitespace
'uint256'     Keyword.Type
':'           Punctuation
'\n    '      Text.Whitespace
'xp:'         Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'['           Punctuation
'N_COINS'     Name
']'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'_xp_mem'     Name
'('           Punctuation
'_rates'      Name
','           Punctuation
' '           Text.Whitespace
'_balances'   Name
')'           Punctuation
'\n    '      Text.Whitespace
'return'      Keyword
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'get_D'       Name
'('           Punctuation
'xp'          Name
','           Punctuation
' '           Text.Whitespace
'_amp'        Name
')'           Punctuation
'\n\n\n'      Text.Whitespace

'@internal'   Name.Decorator
'\n'          Text.Whitespace

'@view'       Name.Decorator
'\n'          Text.Whitespace

'def'         Keyword
' '           Text.Whitespace
'_get_p'      Name
'('           Punctuation
'xp:'         Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'['           Punctuation
'N_COINS'     Name
']'           Punctuation
','           Punctuation
' '           Text.Whitespace
'amp:'        Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
','           Punctuation
' '           Text.Whitespace
'D:'          Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
')'           Punctuation
' '           Text.Whitespace
'-'           Operator
'>'           Operator
' '           Text.Whitespace
'uint256'     Keyword.Type
':'           Punctuation
'\n    '      Text.Whitespace
'# dx_0 / dx_1 only, however can have any number of coins in pool' Comment.Single
'\n    '      Text.Whitespace
'ANN:'        Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'amp'         Name
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'N_COINS'     Name
'\n    '      Text.Whitespace
'Dr:'         Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'D'           Name
' '           Text.Whitespace
'/'           Operator
' '           Text.Whitespace
'('           Punctuation
'N_COINS'     Name
'*'           Operator
'*'           Operator
'N_COINS'     Name
')'           Punctuation
'\n    '      Text.Whitespace
'for'         Keyword
' '           Text.Whitespace
'i'           Name
' '           Text.Whitespace
'in'          Keyword
' '           Text.Whitespace
'range'       Name.Builtin
'('           Punctuation
'N_COINS'     Name
')'           Punctuation
':'           Punctuation
'\n        '  Text.Whitespace
'Dr'          Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'Dr'          Name
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'D'           Name
' '           Text.Whitespace
'/'           Operator
' '           Text.Whitespace
'xp'          Name
'['           Punctuation
'i'           Name
']'           Punctuation
'\n    '      Text.Whitespace
'return'      Keyword
' '           Text.Whitespace
'10'          Literal.Number.Integer
'*'           Operator
'*'           Operator
'18'          Literal.Number.Integer
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'('           Punctuation
'ANN'         Name
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'xp'          Name
'['           Punctuation
'0'           Literal.Number.Integer
']'           Punctuation
' '           Text.Whitespace
'/'           Operator
' '           Text.Whitespace
'A_PRECISION' Name
' '           Text.Whitespace
'+'           Operator
' '           Text.Whitespace
'Dr'          Name
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'xp'          Name
'['           Punctuation
'0'           Literal.Number.Integer
']'           Punctuation
' '           Text.Whitespace
'/'           Operator
' '           Text.Whitespace
'xp'          Name
'['           Punctuation
'1'           Literal.Number.Integer
']'           Punctuation
')'           Punctuation
' '           Text.Whitespace
'/'           Operator
' '           Text.Whitespace
'('           Punctuation
'ANN'         Name
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'xp'          Name
'['           Punctuation
'0'           Literal.Number.Integer
']'           Punctuation
' '           Text.Whitespace
'/'           Operator
' '           Text.Whitespace
'A_PRECISION' Name
' '           Text.Whitespace
'+'           Operator
' '           Text.Whitespace
'Dr'          Name
')'           Punctuation
'\n\n\n'      Text.Whitespace

'@external'   Name.Decorator
'\n'          Text.Whitespace

'@view'       Name.Decorator
'\n'          Text.Whitespace

'def'         Keyword
' '           Text.Whitespace
'get_p'       Name
'('           Punctuation
')'           Punctuation
' '           Text.Whitespace
'-'           Operator
'>'           Operator
' '           Text.Whitespace
'uint256'     Keyword.Type
':'           Punctuation
'\n    '      Text.Whitespace
'amp:'        Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'_A'          Name
'('           Punctuation
')'           Punctuation
'\n    '      Text.Whitespace
'xp:'         Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'['           Punctuation
'N_COINS'     Name
']'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'_xp_mem'     Name
'('           Punctuation
'self'        Name.Attribute
'.'           Punctuation
'rate_multipliers' Name
','           Punctuation
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'balances'    Name
')'           Punctuation
'\n    '      Text.Whitespace
'D:'          Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'get_D'       Name
'('           Punctuation
'xp'          Name
','           Punctuation
' '           Text.Whitespace
'amp'         Name
')'           Punctuation
'\n    '      Text.Whitespace
'return'      Keyword
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'_get_p'      Name
'('           Punctuation
'xp'          Name
','           Punctuation
' '           Text.Whitespace
'amp'         Name
','           Punctuation
' '           Text.Whitespace
'D'           Name
')'           Punctuation
'\n\n\n'      Text.Whitespace

'@internal'   Name.Decorator
'\n'          Text.Whitespace

'@view'       Name.Decorator
'\n'          Text.Whitespace

'def'         Keyword
' '           Text.Whitespace
'exp'         Name
'('           Punctuation
'power:'      Name.Variable
' '           Text.Whitespace
'int256'      Keyword.Type
')'           Punctuation
' '           Text.Whitespace
'-'           Operator
'>'           Operator
' '           Text.Whitespace
'uint256'     Keyword.Type
':'           Punctuation
'\n    '      Text.Whitespace
'if'          Keyword
' '           Text.Whitespace
'power'       Name
' '           Text.Whitespace
'<='          Operator
' '           Text.Whitespace
'-'           Operator
'42139678854452767551' Literal.Number.Integer
':'           Punctuation
'\n        '  Text.Whitespace
'return'      Keyword
' '           Text.Whitespace
'0'           Literal.Number.Integer
'\n\n    '    Text.Whitespace
'if'          Keyword
' '           Text.Whitespace
'power'       Name
' '           Text.Whitespace
'>='          Operator
' '           Text.Whitespace
'135305999368893231589' Literal.Number.Integer
':'           Punctuation
'\n        '  Text.Whitespace
'raise'       Keyword
' '           Text.Whitespace
'"exp overflow"' Literal.String.Double
'\n\n    '    Text.Whitespace
'x:'          Name.Variable
' '           Text.Whitespace
'int256'      Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'unsafe_div'  Name.Builtin
'('           Punctuation
'unsafe_mul'  Name.Builtin
'('           Punctuation
'power'       Name
','           Punctuation
' '           Text.Whitespace
'2'           Literal.Number.Integer
'*'           Operator
'*'           Operator
'96'          Literal.Number.Integer
')'           Punctuation
','           Punctuation
' '           Text.Whitespace
'10'          Literal.Number.Integer
'*'           Operator
'*'           Operator
'18'          Literal.Number.Integer
')'           Punctuation
'\n\n    '    Text.Whitespace
'k:'          Name.Variable
' '           Text.Whitespace
'int256'      Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'unsafe_div'  Name.Builtin
'('           Punctuation
'\n        '  Text.Whitespace
'unsafe_add'  Name.Builtin
'('           Punctuation
'\n            ' Text.Whitespace
'unsafe_div'  Name.Builtin
'('           Punctuation
'unsafe_mul'  Name.Builtin
'('           Punctuation
'x'           Name
','           Punctuation
' '           Text.Whitespace
'2'           Literal.Number.Integer
'*'           Operator
'*'           Operator
'96'          Literal.Number.Integer
')'           Punctuation
','           Punctuation
' '           Text.Whitespace
'54916777467707473351141471128' Literal.Number.Integer
')'           Punctuation
','           Punctuation
'\n            ' Text.Whitespace
'2'           Literal.Number.Integer
'*'           Operator
'*'           Operator
'95'          Literal.Number.Integer
')'           Punctuation
','           Punctuation
'\n        '  Text.Whitespace
'2'           Literal.Number.Integer
'*'           Operator
'*'           Operator
'96'          Literal.Number.Integer
')'           Punctuation
'\n    '      Text.Whitespace
'x'           Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'unsafe_sub'  Name.Builtin
'('           Punctuation
'x'           Name
','           Punctuation
' '           Text.Whitespace
'unsafe_mul'  Name.Builtin
'('           Punctuation
'k'           Name
','           Punctuation
' '           Text.Whitespace
'54916777467707473351141471128' Literal.Number.Integer
')'           Punctuation
')'           Punctuation
'\n\n    '    Text.Whitespace
'y:'          Name.Variable
' '           Text.Whitespace
'int256'      Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'unsafe_add'  Name.Builtin
'('           Punctuation
'x'           Name
','           Punctuation
' '           Text.Whitespace
'1346386616545796478920950773328' Literal.Number.Integer
')'           Punctuation
'\n    '      Text.Whitespace
'y'           Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'unsafe_add'  Name.Builtin
'('           Punctuation
'unsafe_div'  Name.Builtin
'('           Punctuation
'unsafe_mul'  Name.Builtin
'('           Punctuation
'y'           Name
','           Punctuation
' '           Text.Whitespace
'x'           Name
')'           Punctuation
','           Punctuation
' '           Text.Whitespace
'2'           Literal.Number.Integer
'*'           Operator
'*'           Operator
'96'          Literal.Number.Integer
')'           Punctuation
','           Punctuation
' '           Text.Whitespace
'57155421227552351082224309758442' Literal.Number.Integer
')'           Punctuation
'\n    '      Text.Whitespace
'p:'          Name.Variable
' '           Text.Whitespace
'int256'      Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'unsafe_sub'  Name.Builtin
'('           Punctuation
'unsafe_add'  Name.Builtin
'('           Punctuation
'y'           Name
','           Punctuation
' '           Text.Whitespace
'x'           Name
')'           Punctuation
','           Punctuation
' '           Text.Whitespace
'94201549194550492254356042504812' Literal.Number.Integer
')'           Punctuation
'\n    '      Text.Whitespace
'p'           Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'unsafe_add'  Name.Builtin
'('           Punctuation
'unsafe_div'  Name.Builtin
'('           Punctuation
'unsafe_mul'  Name.Builtin
'('           Punctuation
'p'           Name
','           Punctuation
' '           Text.Whitespace
'y'           Name
')'           Punctuation
','           Punctuation
' '           Text.Whitespace
'2'           Literal.Number.Integer
'*'           Operator
'*'           Operator
'96'          Literal.Number.Integer
')'           Punctuation
','           Punctuation
' '           Text.Whitespace
'28719021644029726153956944680412240' Literal.Number.Integer
')'           Punctuation
'\n    '      Text.Whitespace
'p'           Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'unsafe_add'  Name.Builtin
'('           Punctuation
'unsafe_mul'  Name.Builtin
'('           Punctuation
'p'           Name
','           Punctuation
' '           Text.Whitespace
'x'           Name
')'           Punctuation
','           Punctuation
' '           Text.Whitespace
'('           Punctuation
'4385272521454847904659076985693276' Literal.Number.Integer
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'2'           Literal.Number.Integer
'*'           Operator
'*'           Operator
'96'          Literal.Number.Integer
')'           Punctuation
')'           Punctuation
'\n\n    '    Text.Whitespace
'q:'          Name.Variable
' '           Text.Whitespace
'int256'      Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'x'           Name
' '           Text.Whitespace
'-'           Operator
' '           Text.Whitespace
'2855989394907223263936484059900' Literal.Number.Integer
'\n    '      Text.Whitespace
'q'           Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'unsafe_add'  Name.Builtin
'('           Punctuation
'unsafe_div'  Name.Builtin
'('           Punctuation
'unsafe_mul'  Name.Builtin
'('           Punctuation
'q'           Name
','           Punctuation
' '           Text.Whitespace
'x'           Name
')'           Punctuation
','           Punctuation
' '           Text.Whitespace
'2'           Literal.Number.Integer
'*'           Operator
'*'           Operator
'96'          Literal.Number.Integer
')'           Punctuation
','           Punctuation
' '           Text.Whitespace
'50020603652535783019961831881945' Literal.Number.Integer
')'           Punctuation
'\n    '      Text.Whitespace
'q'           Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'unsafe_sub'  Name.Builtin
'('           Punctuation
'unsafe_div'  Name.Builtin
'('           Punctuation
'unsafe_mul'  Name.Builtin
'('           Punctuation
'q'           Name
','           Punctuation
' '           Text.Whitespace
'x'           Name
')'           Punctuation
','           Punctuation
' '           Text.Whitespace
'2'           Literal.Number.Integer
'*'           Operator
'*'           Operator
'96'          Literal.Number.Integer
')'           Punctuation
','           Punctuation
' '           Text.Whitespace
'533845033583426703283633433725380' Literal.Number.Integer
')'           Punctuation
'\n    '      Text.Whitespace
'q'           Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'unsafe_add'  Name.Builtin
'('           Punctuation
'unsafe_div'  Name.Builtin
'('           Punctuation
'unsafe_mul'  Name.Builtin
'('           Punctuation
'q'           Name
','           Punctuation
' '           Text.Whitespace
'x'           Name
')'           Punctuation
','           Punctuation
' '           Text.Whitespace
'2'           Literal.Number.Integer
'*'           Operator
'*'           Operator
'96'          Literal.Number.Integer
')'           Punctuation
','           Punctuation
' '           Text.Whitespace
'3604857256930695427073651918091429' Literal.Number.Integer
')'           Punctuation
'\n    '      Text.Whitespace
'q'           Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'unsafe_sub'  Name.Builtin
'('           Punctuation
'unsafe_div'  Name.Builtin
'('           Punctuation
'unsafe_mul'  Name.Builtin
'('           Punctuation
'q'           Name
','           Punctuation
' '           Text.Whitespace
'x'           Name
')'           Punctuation
','           Punctuation
' '           Text.Whitespace
'2'           Literal.Number.Integer
'*'           Operator
'*'           Operator
'96'          Literal.Number.Integer
')'           Punctuation
','           Punctuation
' '           Text.Whitespace
'14423608567350463180887372962807573' Literal.Number.Integer
')'           Punctuation
'\n    '      Text.Whitespace
'q'           Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'unsafe_add'  Name.Builtin
'('           Punctuation
'unsafe_div'  Name.Builtin
'('           Punctuation
'unsafe_mul'  Name.Builtin
'('           Punctuation
'q'           Name
','           Punctuation
' '           Text.Whitespace
'x'           Name
')'           Punctuation
','           Punctuation
' '           Text.Whitespace
'2'           Literal.Number.Integer
'*'           Operator
'*'           Operator
'96'          Literal.Number.Integer
')'           Punctuation
','           Punctuation
' '           Text.Whitespace
'26449188498355588339934803723976023' Literal.Number.Integer
')'           Punctuation
'\n\n    '    Text.Whitespace
'return'      Keyword
' '           Text.Whitespace
'shift'       Name.Builtin
'('           Punctuation
'\n        '  Text.Whitespace
'unsafe_mul'  Name.Builtin
'('           Punctuation
'convert'     Name.Builtin
'('           Punctuation
'unsafe_div'  Name.Builtin
'('           Punctuation
'p'           Name
','           Punctuation
' '           Text.Whitespace
'q'           Name
')'           Punctuation
','           Punctuation
' '           Text.Whitespace
'uint256'     Keyword.Type
')'           Punctuation
','           Punctuation
' '           Text.Whitespace
'3822833074963236453042738258902158003155416615667' Literal.Number.Integer
')'           Punctuation
','           Punctuation
'\n        '  Text.Whitespace
'unsafe_sub'  Name.Builtin
'('           Punctuation
'k'           Name
','           Punctuation
' '           Text.Whitespace
'195'         Literal.Number.Integer
')'           Punctuation
')'           Punctuation
'\n\n\n'      Text.Whitespace

'@internal'   Name.Decorator
'\n'          Text.Whitespace

'@view'       Name.Decorator
'\n'          Text.Whitespace

'def'         Keyword
' '           Text.Whitespace
'_ma_price'   Name
'('           Punctuation
')'           Punctuation
' '           Text.Whitespace
'-'           Operator
'>'           Operator
' '           Text.Whitespace
'uint256'     Keyword.Type
':'           Punctuation
'\n    '      Text.Whitespace
'ma_last_time:' Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'ma_last_time' Name
'\n\n    '    Text.Whitespace
'pp:'         Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'last_prices_packed' Name
'\n    '      Text.Whitespace
'last_price:' Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'min'         Name.Builtin
'('           Punctuation
'pp'          Name
' '           Text.Whitespace
'&'           Operator
' '           Text.Whitespace
'('           Punctuation
'2'           Literal.Number.Integer
'*'           Operator
'*'           Operator
'128'         Literal.Number.Integer
' '           Text.Whitespace
'-'           Operator
' '           Text.Whitespace
'1'           Literal.Number.Integer
')'           Punctuation
','           Punctuation
' '           Text.Whitespace
'2'           Literal.Number.Integer
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'10'          Literal.Number.Integer
'*'           Operator
'*'           Operator
'18'          Literal.Number.Integer
')'           Punctuation
'\n    '      Text.Whitespace
'last_ema_price:' Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'shift'       Name.Builtin
'('           Punctuation
'pp'          Name
','           Punctuation
' '           Text.Whitespace
'-'           Operator
'128'         Literal.Number.Integer
')'           Punctuation
'\n\n    '    Text.Whitespace
'if'          Keyword
' '           Text.Whitespace
'ma_last_time' Name
' '           Text.Whitespace
'<'           Operator
' '           Text.Whitespace
'block.timestamp' Name.Builtin.Pseudo
':'           Punctuation
'\n        '  Text.Whitespace
'alpha:'      Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'exp'         Name
'('           Punctuation
'-'           Operator
' '           Text.Whitespace
'convert'     Name.Builtin
'('           Punctuation
'('           Punctuation
'block.timestamp' Name.Builtin.Pseudo
' '           Text.Whitespace
'-'           Operator
' '           Text.Whitespace
'ma_last_time' Name
')'           Punctuation
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'10'          Literal.Number.Integer
'*'           Operator
'*'           Operator
'18'          Literal.Number.Integer
' '           Text.Whitespace
'/'           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'ma_exp_time' Name
','           Punctuation
' '           Text.Whitespace
'int256'      Keyword.Type
')'           Punctuation
')'           Punctuation
'\n        '  Text.Whitespace
'return'      Keyword
' '           Text.Whitespace
'('           Punctuation
'last_price'  Name
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'('           Punctuation
'10'          Literal.Number.Integer
'*'           Operator
'*'           Operator
'18'          Literal.Number.Integer
' '           Text.Whitespace
'-'           Operator
' '           Text.Whitespace
'alpha'       Name
')'           Punctuation
' '           Text.Whitespace
'+'           Operator
' '           Text.Whitespace
'last_ema_price' Name
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'alpha'       Name
')'           Punctuation
' '           Text.Whitespace
'/'           Operator
' '           Text.Whitespace
'10'          Literal.Number.Integer
'*'           Operator
'*'           Operator
'18'          Literal.Number.Integer
'\n\n    '    Text.Whitespace
'else'        Keyword
':'           Punctuation
'\n        '  Text.Whitespace
'return'      Keyword
' '           Text.Whitespace
'last_ema_price' Name
'\n\n\n'      Text.Whitespace

'@external'   Name.Decorator
'\n'          Text.Whitespace

'@view'       Name.Decorator
'\n'          Text.Whitespace

'def'         Keyword
' '           Text.Whitespace
'price_oracle' Name
'('           Punctuation
')'           Punctuation
' '           Text.Whitespace
'-'           Operator
'>'           Operator
' '           Text.Whitespace
'uint256'     Keyword.Type
':'           Punctuation
'\n    '      Text.Whitespace
'return'      Keyword
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'_ma_price'   Name
'('           Punctuation
')'           Punctuation
'\n\n\n'      Text.Whitespace

'@internal'   Name.Decorator
'\n'          Text.Whitespace

'def'         Keyword
' '           Text.Whitespace
'save_p_from_price(last_price: uint256):' Name.Function
'\n    '      Text.Whitespace
'"""'         Comment.Multiline
'\n    Saves current price and its EMA\n    ' Comment.Multiline
'"""'         Comment.Multiline
'\n    '      Text.Whitespace
'if'          Keyword
' '           Text.Whitespace
'last_price'  Name
' '           Text.Whitespace
'!='          Operator
' '           Text.Whitespace
'0'           Literal.Number.Integer
':'           Punctuation
'\n        '  Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'last_prices_packed' Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'pack_prices' Name
'('           Punctuation
'last_price'  Name
','           Punctuation
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'_ma_price'   Name
'('           Punctuation
')'           Punctuation
')'           Punctuation
'\n        '  Text.Whitespace
'if'          Keyword
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'ma_last_time' Name
' '           Text.Whitespace
'<'           Operator
' '           Text.Whitespace
'block.timestamp' Name.Builtin.Pseudo
':'           Punctuation
'\n            ' Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'ma_last_time' Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'block.timestamp' Name.Builtin.Pseudo
'\n\n\n'      Text.Whitespace

'@internal'   Name.Decorator
'\n'          Text.Whitespace

'def'         Keyword
' '           Text.Whitespace
'save_p'      Name
'('           Punctuation
'xp:'         Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'['           Punctuation
'N_COINS'     Name
']'           Punctuation
','           Punctuation
' '           Text.Whitespace
'amp:'        Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
','           Punctuation
' '           Text.Whitespace
'D:'          Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
')'           Punctuation
':'           Punctuation
'\n    '      Text.Whitespace
'"""'         Comment.Multiline
'\n    Saves current price and its EMA\n    ' Comment.Multiline
'"""'         Comment.Multiline
'\n    '      Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'save_p_from_price' Name
'('           Punctuation
'self'        Name.Attribute
'.'           Punctuation
'_get_p'      Name
'('           Punctuation
'xp'          Name
','           Punctuation
' '           Text.Whitespace
'amp'         Name
','           Punctuation
' '           Text.Whitespace
'D'           Name
')'           Punctuation
')'           Punctuation
'\n\n\n'      Text.Whitespace

'@view'       Name.Decorator
'\n'          Text.Whitespace

'@external'   Name.Decorator
'\n'          Text.Whitespace

'def'         Keyword
' '           Text.Whitespace
'get_virtual_price' Name
'('           Punctuation
')'           Punctuation
' '           Text.Whitespace
'-'           Operator
'>'           Operator
' '           Text.Whitespace
'uint256'     Keyword.Type
':'           Punctuation
'\n    '      Text.Whitespace
'"""'         Comment.Multiline
'\n    @notice The current virtual price of the pool LP token\n    @dev Useful for calculating profits\n    @return LP token virtual price normalized to 1e18\n    ' Comment.Multiline
'"""'         Comment.Multiline
'\n    '      Text.Whitespace
'amp:'        Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'_A'          Name
'('           Punctuation
')'           Punctuation
'\n    '      Text.Whitespace
'xp:'         Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'['           Punctuation
'N_COINS'     Name
']'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'_xp_mem'     Name
'('           Punctuation
'self'        Name.Attribute
'.'           Punctuation
'rate_multipliers' Name
','           Punctuation
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'balances'    Name
')'           Punctuation
'\n    '      Text.Whitespace
'D:'          Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'get_D'       Name
'('           Punctuation
'xp'          Name
','           Punctuation
' '           Text.Whitespace
'amp'         Name
')'           Punctuation
'\n    '      Text.Whitespace
'# D is in the units similar to DAI (e.g. converted to precision 1e18)' Comment.Single
'\n    '      Text.Whitespace
'# When balanced, D = n * x_u - total virtual value of the portfolio' Comment.Single
'\n    '      Text.Whitespace
'return'      Keyword
' '           Text.Whitespace
'D'           Name
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'PRECISION'   Name
' '           Text.Whitespace
'/'           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'totalSupply' Name
'\n\n\n'      Text.Whitespace

'@view'       Name.Decorator
'\n'          Text.Whitespace

'@external'   Name.Decorator
'\n'          Text.Whitespace

'def'         Keyword
' '           Text.Whitespace
'calc_token_amount' Name
'('           Punctuation
'_amounts:'   Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'['           Punctuation
'N_COINS'     Name
']'           Punctuation
','           Punctuation
' '           Text.Whitespace
'_is_deposit:' Name.Variable
' '           Text.Whitespace
'bool'        Keyword.Type
')'           Punctuation
' '           Text.Whitespace
'-'           Operator
'>'           Operator
' '           Text.Whitespace
'uint256'     Keyword.Type
':'           Punctuation
'\n    '      Text.Whitespace
'"""'         Comment.Multiline
'\n    @notice Calculate addition or reduction in token supply from a deposit or withdrawal\n    @param _amounts Amount of each coin being deposited\n    @param _is_deposit set True for deposits, False for withdrawals\n    @return Expected amount of LP tokens received\n    ' Comment.Multiline
'"""'         Comment.Multiline
'\n    '      Text.Whitespace
'amp:'        Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'_A'          Name
'('           Punctuation
')'           Punctuation
'\n    '      Text.Whitespace
'old_balances:' Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'['           Punctuation
'N_COINS'     Name
']'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'balances'    Name
'\n    '      Text.Whitespace
'rates:'      Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'['           Punctuation
'N_COINS'     Name
']'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'rate_multipliers' Name
'\n\n    '    Text.Whitespace
'# Initial invariant' Comment.Single
'\n    '      Text.Whitespace
'D0:'         Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'get_D_mem'   Name
'('           Punctuation
'rates'       Name
','           Punctuation
' '           Text.Whitespace
'old_balances' Name
','           Punctuation
' '           Text.Whitespace
'amp'         Name
')'           Punctuation
'\n\n    '    Text.Whitespace
'total_supply:' Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'totalSupply' Name
'\n    '      Text.Whitespace
'new_balances:' Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'['           Punctuation
'N_COINS'     Name
']'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'old_balances' Name
'\n    '      Text.Whitespace
'for'         Keyword
' '           Text.Whitespace
'i'           Name
' '           Text.Whitespace
'in'          Keyword
' '           Text.Whitespace
'range'       Name.Builtin
'('           Punctuation
'N_COINS'     Name
')'           Punctuation
':'           Punctuation
'\n        '  Text.Whitespace
'amount:'     Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'_amounts'    Name
'['           Punctuation
'i'           Name
']'           Punctuation
'\n        '  Text.Whitespace
'if'          Keyword
' '           Text.Whitespace
'_is_deposit:' Name.Variable
'\n            ' Text.Whitespace
'new_balances' Name
'['           Punctuation
'i'           Name
']'           Punctuation
' '           Text.Whitespace
'+'           Operator
'='           Operator
' '           Text.Whitespace
'amount'      Name
'\n        '  Text.Whitespace
'else'        Keyword
':'           Punctuation
'\n            ' Text.Whitespace
'new_balances' Name
'['           Punctuation
'i'           Name
']'           Punctuation
' '           Text.Whitespace
'-'           Operator
'='           Operator
' '           Text.Whitespace
'amount'      Name
'\n\n    '    Text.Whitespace
'# Invariant after change' Comment.Single
'\n    '      Text.Whitespace
'D1:'         Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'get_D_mem'   Name
'('           Punctuation
'rates'       Name
','           Punctuation
' '           Text.Whitespace
'new_balances' Name
','           Punctuation
' '           Text.Whitespace
'amp'         Name
')'           Punctuation
'\n\n    '    Text.Whitespace
'# We need to recalculate the invariant accounting for fees' Comment.Single
'\n    '      Text.Whitespace
"# to calculate fair user's share" Comment.Single
'\n    '      Text.Whitespace
'D2:'         Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'D1'          Name
'\n    '      Text.Whitespace
'if'          Keyword
' '           Text.Whitespace
'total_supply' Name
' '           Text.Whitespace
'>'           Operator
' '           Text.Whitespace
'0'           Literal.Number.Integer
':'           Punctuation
'\n        '  Text.Whitespace
'# Only account for fees if we are not the first to deposit' Comment.Single
'\n        '  Text.Whitespace
'base_fee:'   Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'fee'         Name
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'N_COINS'     Name
' '           Text.Whitespace
'/'           Operator
' '           Text.Whitespace
'('           Punctuation
'4'           Literal.Number.Integer
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'('           Punctuation
'N_COINS'     Name
' '           Text.Whitespace
'-'           Operator
' '           Text.Whitespace
'1'           Literal.Number.Integer
')'           Punctuation
')'           Punctuation
'\n        '  Text.Whitespace
'for'         Keyword
' '           Text.Whitespace
'i'           Name
' '           Text.Whitespace
'in'          Keyword
' '           Text.Whitespace
'range'       Name.Builtin
'('           Punctuation
'N_COINS'     Name
')'           Punctuation
':'           Punctuation
'\n            ' Text.Whitespace
'ideal_balance:' Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'D1'          Name
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'old_balances' Name
'['           Punctuation
'i'           Name
']'           Punctuation
' '           Text.Whitespace
'/'           Operator
' '           Text.Whitespace
'D0'          Name
'\n            ' Text.Whitespace
'difference:' Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'0'           Literal.Number.Integer
'\n            ' Text.Whitespace
'new_balance:' Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'new_balances' Name
'['           Punctuation
'i'           Name
']'           Punctuation
'\n            ' Text.Whitespace
'if'          Keyword
' '           Text.Whitespace
'ideal_balance' Name
' '           Text.Whitespace
'>'           Operator
' '           Text.Whitespace
'new_balance:' Name.Variable
'\n                ' Text.Whitespace
'difference'  Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'ideal_balance' Name
' '           Text.Whitespace
'-'           Operator
' '           Text.Whitespace
'new_balance' Name
'\n            ' Text.Whitespace
'else'        Keyword
':'           Punctuation
'\n                ' Text.Whitespace
'difference'  Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'new_balance' Name
' '           Text.Whitespace
'-'           Operator
' '           Text.Whitespace
'ideal_balance' Name
'\n            ' Text.Whitespace
'new_balances' Name
'['           Punctuation
'i'           Name
']'           Punctuation
' '           Text.Whitespace
'-'           Operator
'='           Operator
' '           Text.Whitespace
'base_fee'    Name
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'difference'  Name
' '           Text.Whitespace
'/'           Operator
' '           Text.Whitespace
'FEE_DENOMINATOR' Name
'\n        '  Text.Whitespace
'xp:'         Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'['           Punctuation
'N_COINS'     Name
']'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'_xp_mem'     Name
'('           Punctuation
'rates'       Name
','           Punctuation
' '           Text.Whitespace
'new_balances' Name
')'           Punctuation
'\n        '  Text.Whitespace
'D2'          Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'get_D'       Name
'('           Punctuation
'xp'          Name
','           Punctuation
' '           Text.Whitespace
'amp'         Name
')'           Punctuation
'\n    '      Text.Whitespace
'else'        Keyword
':'           Punctuation
'\n        '  Text.Whitespace
'return'      Keyword
' '           Text.Whitespace
'D1'          Name
'  '          Text.Whitespace
'# Take the dust if there was any' Comment.Single
'\n\n\n    '  Text.Whitespace
'diff:'       Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'0'           Literal.Number.Integer
'\n    '      Text.Whitespace
'if'          Keyword
' '           Text.Whitespace
'_is_deposit:' Name.Variable
'\n        '  Text.Whitespace
'diff'        Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'D2'          Name
' '           Text.Whitespace
'-'           Operator
' '           Text.Whitespace
'D0'          Name
'\n    '      Text.Whitespace
'else'        Keyword
':'           Punctuation
'\n        '  Text.Whitespace
'diff'        Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'D0'          Name
' '           Text.Whitespace
'-'           Operator
' '           Text.Whitespace
'D2'          Name
'\n    '      Text.Whitespace
'return'      Keyword
' '           Text.Whitespace
'diff'        Name
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'total_supply' Name
' '           Text.Whitespace
'/'           Operator
' '           Text.Whitespace
'D0'          Name
'\n\n\n'      Text.Whitespace

'@external'   Name.Decorator
'\n'          Text.Whitespace

'@nonreentrant' Name.Decorator
'('           Punctuation
"'lock'"      Literal.String.Single
')'           Punctuation
'\n'          Text.Whitespace

'def'         Keyword
' '           Text.Whitespace
'add_liquidity' Name
'('           Punctuation
'\n    '      Text.Whitespace
'_amounts:'   Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'['           Punctuation
'N_COINS'     Name
']'           Punctuation
','           Punctuation
'\n    '      Text.Whitespace
'_min_mint_amount:' Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
','           Punctuation
'\n    '      Text.Whitespace
'_receiver:'  Name.Variable
' '           Text.Whitespace
'address'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'msg.sender'  Name.Builtin.Pseudo
'\n'          Text.Whitespace

')'           Punctuation
' '           Text.Whitespace
'-'           Operator
'>'           Operator
' '           Text.Whitespace
'uint256'     Keyword.Type
':'           Punctuation
'\n    '      Text.Whitespace
'"""'         Comment.Multiline
'\n    @notice Deposit coins into the pool\n    @param _amounts List of amounts of coins to deposit\n    @param _min_mint_amount Minimum amount of LP tokens to mint from the deposit\n    @param _receiver Address that owns the minted LP tokens\n    @return Amount of LP tokens received by depositing\n    ' Comment.Multiline
'"""'         Comment.Multiline
'\n    '      Text.Whitespace
'amp:'        Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'_A'          Name
'('           Punctuation
')'           Punctuation
'\n    '      Text.Whitespace
'old_balances:' Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'['           Punctuation
'N_COINS'     Name
']'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'balances'    Name
'\n    '      Text.Whitespace
'rates:'      Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'['           Punctuation
'N_COINS'     Name
']'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'rate_multipliers' Name
'\n\n    '    Text.Whitespace
'# Initial invariant' Comment.Single
'\n    '      Text.Whitespace
'D0:'         Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'get_D_mem'   Name
'('           Punctuation
'rates'       Name
','           Punctuation
' '           Text.Whitespace
'old_balances' Name
','           Punctuation
' '           Text.Whitespace
'amp'         Name
')'           Punctuation
'\n\n    '    Text.Whitespace
'total_supply:' Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'totalSupply' Name
'\n    '      Text.Whitespace
'new_balances:' Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'['           Punctuation
'N_COINS'     Name
']'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'old_balances' Name
'\n    '      Text.Whitespace
'for'         Keyword
' '           Text.Whitespace
'i'           Name
' '           Text.Whitespace
'in'          Keyword
' '           Text.Whitespace
'range'       Name.Builtin
'('           Punctuation
'N_COINS'     Name
')'           Punctuation
':'           Punctuation
'\n        '  Text.Whitespace
'amount:'     Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'_amounts'    Name
'['           Punctuation
'i'           Name
']'           Punctuation
'\n        '  Text.Whitespace
'if'          Keyword
' '           Text.Whitespace
'amount'      Name
' '           Text.Whitespace
'>'           Operator
' '           Text.Whitespace
'0'           Literal.Number.Integer
':'           Punctuation
'\n            ' Text.Whitespace
'assert'      Keyword
' '           Text.Whitespace
'ERC20'       Name.Class
'('           Punctuation
'self'        Name.Attribute
'.'           Punctuation
'coins'       Name
'['           Punctuation
'i'           Name
']'           Punctuation
')'           Punctuation
'.'           Punctuation
'transferFrom' Name
'('           Punctuation
'msg.sender'  Name.Builtin.Pseudo
','           Punctuation
' '           Text.Whitespace
'self'        Name.Attribute
','           Punctuation
' '           Text.Whitespace
'amount'      Name
','           Punctuation
' '           Text.Whitespace
'default_return_value' Name
'='           Operator
'True'        Name
')'           Punctuation
'  '          Text.Whitespace
'# dev: failed transfer' Comment.Single
'\n            ' Text.Whitespace
'new_balances' Name
'['           Punctuation
'i'           Name
']'           Punctuation
' '           Text.Whitespace
'+'           Operator
'='           Operator
' '           Text.Whitespace
'amount'      Name
'\n        '  Text.Whitespace
'else'        Keyword
':'           Punctuation
'\n            ' Text.Whitespace
'assert'      Keyword
' '           Text.Whitespace
'total_supply' Name
' '           Text.Whitespace
'!='          Operator
' '           Text.Whitespace
'0'           Literal.Number.Integer
'  '          Text.Whitespace
'# dev: initial deposit requires all coins' Comment.Single
'\n\n    '    Text.Whitespace
'# Invariant after change' Comment.Single
'\n    '      Text.Whitespace
'D1:'         Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'get_D_mem'   Name
'('           Punctuation
'rates'       Name
','           Punctuation
' '           Text.Whitespace
'new_balances' Name
','           Punctuation
' '           Text.Whitespace
'amp'         Name
')'           Punctuation
'\n    '      Text.Whitespace
'assert'      Keyword
' '           Text.Whitespace
'D1'          Name
' '           Text.Whitespace
'>'           Operator
' '           Text.Whitespace
'D0'          Name
'\n\n    '    Text.Whitespace
'# We need to recalculate the invariant accounting for fees' Comment.Single
'\n    '      Text.Whitespace
"# to calculate fair user's share" Comment.Single
'\n    '      Text.Whitespace
'fees:'       Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'['           Punctuation
'N_COINS'     Name
']'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'empty'       Name.Builtin
'('           Punctuation
'uint256'     Keyword.Type
'['           Punctuation
'N_COINS'     Name
']'           Punctuation
')'           Punctuation
'\n    '      Text.Whitespace
'mint_amount:' Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'0'           Literal.Number.Integer
'\n\n    '    Text.Whitespace
'if'          Keyword
' '           Text.Whitespace
'total_supply' Name
' '           Text.Whitespace
'>'           Operator
' '           Text.Whitespace
'0'           Literal.Number.Integer
':'           Punctuation
'\n        '  Text.Whitespace
'# Only account for fees if we are not the first to deposit' Comment.Single
'\n        '  Text.Whitespace
'base_fee:'   Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'fee'         Name
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'N_COINS'     Name
' '           Text.Whitespace
'/'           Operator
' '           Text.Whitespace
'('           Punctuation
'4'           Literal.Number.Integer
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'('           Punctuation
'N_COINS'     Name
' '           Text.Whitespace
'-'           Operator
' '           Text.Whitespace
'1'           Literal.Number.Integer
')'           Punctuation
')'           Punctuation
'\n        '  Text.Whitespace
'for'         Keyword
' '           Text.Whitespace
'i'           Name
' '           Text.Whitespace
'in'          Keyword
' '           Text.Whitespace
'range'       Name.Builtin
'('           Punctuation
'N_COINS'     Name
')'           Punctuation
':'           Punctuation
'\n            ' Text.Whitespace
'ideal_balance:' Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'D1'          Name
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'old_balances' Name
'['           Punctuation
'i'           Name
']'           Punctuation
' '           Text.Whitespace
'/'           Operator
' '           Text.Whitespace
'D0'          Name
'\n            ' Text.Whitespace
'difference:' Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'0'           Literal.Number.Integer
'\n            ' Text.Whitespace
'new_balance:' Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'new_balances' Name
'['           Punctuation
'i'           Name
']'           Punctuation
'\n            ' Text.Whitespace
'if'          Keyword
' '           Text.Whitespace
'ideal_balance' Name
' '           Text.Whitespace
'>'           Operator
' '           Text.Whitespace
'new_balance:' Name.Variable
'\n                ' Text.Whitespace
'difference'  Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'ideal_balance' Name
' '           Text.Whitespace
'-'           Operator
' '           Text.Whitespace
'new_balance' Name
'\n            ' Text.Whitespace
'else'        Keyword
':'           Punctuation
'\n                ' Text.Whitespace
'difference'  Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'new_balance' Name
' '           Text.Whitespace
'-'           Operator
' '           Text.Whitespace
'ideal_balance' Name
'\n            ' Text.Whitespace
'fees'        Name
'['           Punctuation
'i'           Name
']'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'base_fee'    Name
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'difference'  Name
' '           Text.Whitespace
'/'           Operator
' '           Text.Whitespace
'FEE_DENOMINATOR' Name
'\n            ' Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'balances'    Name
'['           Punctuation
'i'           Name
']'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'new_balance' Name
' '           Text.Whitespace
'-'           Operator
' '           Text.Whitespace
'('           Punctuation
'fees'        Name
'['           Punctuation
'i'           Name
']'           Punctuation
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'ADMIN_FEE'   Name
' '           Text.Whitespace
'/'           Operator
' '           Text.Whitespace
'FEE_DENOMINATOR' Name
')'           Punctuation
'\n            ' Text.Whitespace
'new_balances' Name
'['           Punctuation
'i'           Name
']'           Punctuation
' '           Text.Whitespace
'-'           Operator
'='           Operator
' '           Text.Whitespace
'fees'        Name
'['           Punctuation
'i'           Name
']'           Punctuation
'\n        '  Text.Whitespace
'xp:'         Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'['           Punctuation
'N_COINS'     Name
']'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'_xp_mem'     Name
'('           Punctuation
'rates'       Name
','           Punctuation
' '           Text.Whitespace
'new_balances' Name
')'           Punctuation
'\n        '  Text.Whitespace
'D2:'         Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'get_D'       Name
'('           Punctuation
'xp'          Name
','           Punctuation
' '           Text.Whitespace
'amp'         Name
')'           Punctuation
'\n        '  Text.Whitespace
'mint_amount' Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'total_supply' Name
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'('           Punctuation
'D2'          Name
' '           Text.Whitespace
'-'           Operator
' '           Text.Whitespace
'D0'          Name
')'           Punctuation
' '           Text.Whitespace
'/'           Operator
' '           Text.Whitespace
'D0'          Name
'\n        '  Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'save_p'      Name
'('           Punctuation
'xp'          Name
','           Punctuation
' '           Text.Whitespace
'amp'         Name
','           Punctuation
' '           Text.Whitespace
'D2'          Name
')'           Punctuation
'\n\n    '    Text.Whitespace
'else'        Keyword
':'           Punctuation
'\n        '  Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'balances'    Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'new_balances' Name
'\n        '  Text.Whitespace
'mint_amount' Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'D1'          Name
'  '          Text.Whitespace
'# Take the dust if there was any' Comment.Single
'\n\n    '    Text.Whitespace
'assert'      Keyword
' '           Text.Whitespace
'mint_amount' Name
' '           Text.Whitespace
'>='          Operator
' '           Text.Whitespace
'_min_mint_amount' Name
','           Punctuation
' '           Text.Whitespace
'"Slippage screwed you"' Literal.String.Double
'\n\n    '    Text.Whitespace
'# Mint pool tokens' Comment.Single
'\n    '      Text.Whitespace
'total_supply' Name
' '           Text.Whitespace
'+'           Operator
'='           Operator
' '           Text.Whitespace
'mint_amount' Name
'\n    '      Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'balanceOf'   Name
'['           Punctuation
'_receiver'   Name
']'           Punctuation
' '           Text.Whitespace
'+'           Operator
'='           Operator
' '           Text.Whitespace
'mint_amount' Name
'\n    '      Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'totalSupply' Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'total_supply' Name
'\n    '      Text.Whitespace
'log'         Keyword
' '           Text.Whitespace
'Transfer'    Name
'('           Punctuation
'empty'       Name.Builtin
'('           Punctuation
'address'     Keyword.Type
')'           Punctuation
','           Punctuation
' '           Text.Whitespace
'_receiver'   Name
','           Punctuation
' '           Text.Whitespace
'mint_amount' Name
')'           Punctuation
'\n\n    '    Text.Whitespace
'log'         Keyword
' '           Text.Whitespace
'AddLiquidity' Name
'('           Punctuation
'msg.sender'  Name.Builtin.Pseudo
','           Punctuation
' '           Text.Whitespace
'_amounts'    Name
','           Punctuation
' '           Text.Whitespace
'fees'        Name
','           Punctuation
' '           Text.Whitespace
'D1'          Name
','           Punctuation
' '           Text.Whitespace
'total_supply' Name
')'           Punctuation
'\n\n    '    Text.Whitespace
'return'      Keyword
' '           Text.Whitespace
'mint_amount' Name
'\n\n\n'      Text.Whitespace

'@view'       Name.Decorator
'\n'          Text.Whitespace

'@internal'   Name.Decorator
'\n'          Text.Whitespace

'def'         Keyword
' '           Text.Whitespace
'get_y'       Name
'('           Punctuation
'i:'          Name.Variable
' '           Text.Whitespace
'int128'      Keyword.Type
','           Punctuation
' '           Text.Whitespace
'j:'          Name.Variable
' '           Text.Whitespace
'int128'      Keyword.Type
','           Punctuation
' '           Text.Whitespace
'x:'          Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
','           Punctuation
' '           Text.Whitespace
'xp:'         Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'['           Punctuation
'N_COINS'     Name
']'           Punctuation
','           Punctuation
' '           Text.Whitespace
'_amp:'       Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
','           Punctuation
' '           Text.Whitespace
'_D:'         Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
')'           Punctuation
' '           Text.Whitespace
'-'           Operator
'>'           Operator
' '           Text.Whitespace
'uint256'     Keyword.Type
':'           Punctuation
'\n    '      Text.Whitespace
'"""'         Comment.Multiline
"\n    Calculate x[j] if one makes x[i] = x\n\n    Done by solving quadratic equation iteratively.\n    x_1**2 + x_1 * (sum' - (A*n**n - 1) * D / (A * n**n)) = D ** (n + 1) / (n ** (2 * n) * prod' * A)\n    x_1**2 + b*x_1 = c\n\n    x_1 = (x_1**2 + c) / (2*x_1 + b)\n    " Comment.Multiline
'"""'         Comment.Multiline
'\n    '      Text.Whitespace
'# x in the input is converted to the same price/precision' Comment.Single
'\n\n    '    Text.Whitespace
'assert'      Keyword
' '           Text.Whitespace
'i'           Name
' '           Text.Whitespace
'!='          Operator
' '           Text.Whitespace
'j'           Name
'       '     Text.Whitespace
'# dev: same coin' Comment.Single
'\n    '      Text.Whitespace
'assert'      Keyword
' '           Text.Whitespace
'j'           Name
' '           Text.Whitespace
'>='          Operator
' '           Text.Whitespace
'0'           Literal.Number.Integer
'       '     Text.Whitespace
'# dev: j below zero' Comment.Single
'\n    '      Text.Whitespace
'assert'      Keyword
' '           Text.Whitespace
'j'           Name
' '           Text.Whitespace
'<'           Operator
' '           Text.Whitespace
'N_COINS_128' Name
'  '          Text.Whitespace
'# dev: j above N_COINS' Comment.Single
'\n\n    '    Text.Whitespace
'# should be unreachable, but good for safety' Comment.Single
'\n    '      Text.Whitespace
'assert'      Keyword
' '           Text.Whitespace
'i'           Name
' '           Text.Whitespace
'>='          Operator
' '           Text.Whitespace
'0'           Literal.Number.Integer
'\n    '      Text.Whitespace
'assert'      Keyword
' '           Text.Whitespace
'i'           Name
' '           Text.Whitespace
'<'           Operator
' '           Text.Whitespace
'N_COINS_128' Name
'\n\n    '    Text.Whitespace
'amp:'        Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'_amp'        Name
'\n    '      Text.Whitespace
'D:'          Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'_D'          Name
'\n    '      Text.Whitespace
'if'          Keyword
' '           Text.Whitespace
'_D'          Name
' '           Text.Whitespace
'=='          Operator
' '           Text.Whitespace
'0'           Literal.Number.Integer
':'           Punctuation
'\n        '  Text.Whitespace
'amp'         Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'_A'          Name
'('           Punctuation
')'           Punctuation
'\n        '  Text.Whitespace
'D'           Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'get_D'       Name
'('           Punctuation
'xp'          Name
','           Punctuation
' '           Text.Whitespace
'amp'         Name
')'           Punctuation
'\n    '      Text.Whitespace
'S_:'         Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'0'           Literal.Number.Integer
'\n    '      Text.Whitespace
'_x:'         Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'0'           Literal.Number.Integer
'\n    '      Text.Whitespace
'y_prev:'     Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'0'           Literal.Number.Integer
'\n    '      Text.Whitespace
'c:'          Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'D'           Name
'\n    '      Text.Whitespace
'Ann:'        Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'amp'         Name
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'N_COINS'     Name
'\n\n    '    Text.Whitespace
'for'         Keyword
' '           Text.Whitespace
'_i'          Name
' '           Text.Whitespace
'in'          Keyword
' '           Text.Whitespace
'range'       Name.Builtin
'('           Punctuation
'N_COINS_128' Name
')'           Punctuation
':'           Punctuation
'\n        '  Text.Whitespace
'if'          Keyword
' '           Text.Whitespace
'_i'          Name
' '           Text.Whitespace
'=='          Operator
' '           Text.Whitespace
'i:'          Name.Variable
'\n            ' Text.Whitespace
'_x'          Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'x'           Name
'\n        '  Text.Whitespace
'elif'        Keyword
' '           Text.Whitespace
'_i'          Name
' '           Text.Whitespace
'!='          Operator
' '           Text.Whitespace
'j:'          Name.Variable
'\n            ' Text.Whitespace
'_x'          Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'xp'          Name
'['           Punctuation
'_i'          Name
']'           Punctuation
'\n        '  Text.Whitespace
'else'        Keyword
':'           Punctuation
'\n            ' Text.Whitespace
'continue'    Name
'\n        '  Text.Whitespace
'S_'          Name
' '           Text.Whitespace
'+'           Operator
'='           Operator
' '           Text.Whitespace
'_x'          Name
'\n        '  Text.Whitespace
'c'           Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'c'           Name
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'D'           Name
' '           Text.Whitespace
'/'           Operator
' '           Text.Whitespace
'('           Punctuation
'_x'          Name
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'N_COINS'     Name
')'           Punctuation
'\n\n    '    Text.Whitespace
'c'           Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'c'           Name
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'D'           Name
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'A_PRECISION' Name
' '           Text.Whitespace
'/'           Operator
' '           Text.Whitespace
'('           Punctuation
'Ann'         Name
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'N_COINS'     Name
')'           Punctuation
'\n    '      Text.Whitespace
'b:'          Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'S_'          Name
' '           Text.Whitespace
'+'           Operator
' '           Text.Whitespace
'D'           Name
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'A_PRECISION' Name
' '           Text.Whitespace
'/'           Operator
' '           Text.Whitespace
'Ann'         Name
'  '          Text.Whitespace
'# - D'       Comment.Single
'\n    '      Text.Whitespace
'y:'          Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'D'           Name
'\n\n    '    Text.Whitespace
'for'         Keyword
' '           Text.Whitespace
'_i'          Name
' '           Text.Whitespace
'in'          Keyword
' '           Text.Whitespace
'range'       Name.Builtin
'('           Punctuation
'255'         Literal.Number.Integer
')'           Punctuation
':'           Punctuation
'\n        '  Text.Whitespace
'y_prev'      Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'y'           Name
'\n        '  Text.Whitespace
'y'           Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'('           Punctuation
'y'           Name
'*'           Operator
'y'           Name
' '           Text.Whitespace
'+'           Operator
' '           Text.Whitespace
'c'           Name
')'           Punctuation
' '           Text.Whitespace
'/'           Operator
' '           Text.Whitespace
'('           Punctuation
'2'           Literal.Number.Integer
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'y'           Name
' '           Text.Whitespace
'+'           Operator
' '           Text.Whitespace
'b'           Name
' '           Text.Whitespace
'-'           Operator
' '           Text.Whitespace
'D'           Name
')'           Punctuation
'\n        '  Text.Whitespace
'# Equality with the precision of 1' Comment.Single
'\n        '  Text.Whitespace
'if'          Keyword
' '           Text.Whitespace
'y'           Name
' '           Text.Whitespace
'>'           Operator
' '           Text.Whitespace
'y_prev:'     Name.Variable
'\n            ' Text.Whitespace
'if'          Keyword
' '           Text.Whitespace
'y'           Name
' '           Text.Whitespace
'-'           Operator
' '           Text.Whitespace
'y_prev'      Name
' '           Text.Whitespace
'<='          Operator
' '           Text.Whitespace
'1'           Literal.Number.Integer
':'           Punctuation
'\n                ' Text.Whitespace
'return'      Keyword
' '           Text.Whitespace
'y'           Name
'\n        '  Text.Whitespace
'else'        Keyword
':'           Punctuation
'\n            ' Text.Whitespace
'if'          Keyword
' '           Text.Whitespace
'y_prev'      Name
' '           Text.Whitespace
'-'           Operator
' '           Text.Whitespace
'y'           Name
' '           Text.Whitespace
'<='          Operator
' '           Text.Whitespace
'1'           Literal.Number.Integer
':'           Punctuation
'\n                ' Text.Whitespace
'return'      Keyword
' '           Text.Whitespace
'y'           Name
'\n    '      Text.Whitespace
'raise'       Keyword
'\n\n\n'      Text.Whitespace

'@view'       Name.Decorator
'\n'          Text.Whitespace

'@external'   Name.Decorator
'\n'          Text.Whitespace

'def'         Keyword
' '           Text.Whitespace
'get_dy'      Name
'('           Punctuation
'i:'          Name.Variable
' '           Text.Whitespace
'int128'      Keyword.Type
','           Punctuation
' '           Text.Whitespace
'j:'          Name.Variable
' '           Text.Whitespace
'int128'      Keyword.Type
','           Punctuation
' '           Text.Whitespace
'dx:'         Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
')'           Punctuation
' '           Text.Whitespace
'-'           Operator
'>'           Operator
' '           Text.Whitespace
'uint256'     Keyword.Type
':'           Punctuation
'\n    '      Text.Whitespace
'"""'         Comment.Multiline
'\n    @notice Calculate the current output dy given input dx\n    @dev Index values can be found via the `coins` public getter method\n    @param i Index value for the coin to send\n    @param j Index valie of the coin to recieve\n    @param dx Amount of `i` being exchanged\n    @return Amount of `j` predicted\n    ' Comment.Multiline
'"""'         Comment.Multiline
'\n    '      Text.Whitespace
'rates:'      Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'['           Punctuation
'N_COINS'     Name
']'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'rate_multipliers' Name
'\n    '      Text.Whitespace
'xp:'         Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'['           Punctuation
'N_COINS'     Name
']'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'_xp_mem'     Name
'('           Punctuation
'rates'       Name
','           Punctuation
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'balances'    Name
')'           Punctuation
'\n\n    '    Text.Whitespace
'x:'          Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'xp'          Name
'['           Punctuation
'i'           Name
']'           Punctuation
' '           Text.Whitespace
'+'           Operator
' '           Text.Whitespace
'('           Punctuation
'dx'          Name
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'rates'       Name
'['           Punctuation
'i'           Name
']'           Punctuation
' '           Text.Whitespace
'/'           Operator
' '           Text.Whitespace
'PRECISION'   Name
')'           Punctuation
'\n    '      Text.Whitespace
'y:'          Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'get_y'       Name
'('           Punctuation
'i'           Name
','           Punctuation
' '           Text.Whitespace
'j'           Name
','           Punctuation
' '           Text.Whitespace
'x'           Name
','           Punctuation
' '           Text.Whitespace
'xp'          Name
','           Punctuation
' '           Text.Whitespace
'0'           Literal.Number.Integer
','           Punctuation
' '           Text.Whitespace
'0'           Literal.Number.Integer
')'           Punctuation
'\n    '      Text.Whitespace
'dy:'         Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'xp'          Name
'['           Punctuation
'j'           Name
']'           Punctuation
' '           Text.Whitespace
'-'           Operator
' '           Text.Whitespace
'y'           Name
' '           Text.Whitespace
'-'           Operator
' '           Text.Whitespace
'1'           Literal.Number.Integer
'\n    '      Text.Whitespace
'fee:'        Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'fee'         Name
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'dy'          Name
' '           Text.Whitespace
'/'           Operator
' '           Text.Whitespace
'FEE_DENOMINATOR' Name
'\n    '      Text.Whitespace
'return'      Keyword
' '           Text.Whitespace
'('           Punctuation
'dy'          Name
' '           Text.Whitespace
'-'           Operator
' '           Text.Whitespace
'fee'         Name
')'           Punctuation
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'PRECISION'   Name
' '           Text.Whitespace
'/'           Operator
' '           Text.Whitespace
'rates'       Name
'['           Punctuation
'j'           Name
']'           Punctuation
'\n\n\n'      Text.Whitespace

'@view'       Name.Decorator
'\n'          Text.Whitespace

'@external'   Name.Decorator
'\n'          Text.Whitespace

'def'         Keyword
' '           Text.Whitespace
'get_dx'      Name
'('           Punctuation
'i:'          Name.Variable
' '           Text.Whitespace
'int128'      Keyword.Type
','           Punctuation
' '           Text.Whitespace
'j:'          Name.Variable
' '           Text.Whitespace
'int128'      Keyword.Type
','           Punctuation
' '           Text.Whitespace
'dy:'         Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
')'           Punctuation
' '           Text.Whitespace
'-'           Operator
'>'           Operator
' '           Text.Whitespace
'uint256'     Keyword.Type
':'           Punctuation
'\n    '      Text.Whitespace
'"""'         Comment.Multiline
'\n    @notice Calculate the current input dx given output dy\n    @dev Index values can be found via the `coins` public getter method\n    @param i Index value for the coin to send\n    @param j Index valie of the coin to recieve\n    @param dy Amount of `j` being received after exchange\n    @return Amount of `i` predicted\n    ' Comment.Multiline
'"""'         Comment.Multiline
'\n    '      Text.Whitespace
'rates:'      Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'['           Punctuation
'N_COINS'     Name
']'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'rate_multipliers' Name
'\n    '      Text.Whitespace
'xp:'         Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'['           Punctuation
'N_COINS'     Name
']'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'_xp_mem'     Name
'('           Punctuation
'rates'       Name
','           Punctuation
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'balances'    Name
')'           Punctuation
'\n\n    '    Text.Whitespace
'y:'          Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'xp'          Name
'['           Punctuation
'j'           Name
']'           Punctuation
' '           Text.Whitespace
'-'           Operator
' '           Text.Whitespace
'('           Punctuation
'dy'          Name
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'rates'       Name
'['           Punctuation
'j'           Name
']'           Punctuation
' '           Text.Whitespace
'/'           Operator
' '           Text.Whitespace
'PRECISION'   Name
' '           Text.Whitespace
'+'           Operator
' '           Text.Whitespace
'1'           Literal.Number.Integer
')'           Punctuation
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'FEE_DENOMINATOR' Name
' '           Text.Whitespace
'/'           Operator
' '           Text.Whitespace
'('           Punctuation
'FEE_DENOMINATOR' Name
' '           Text.Whitespace
'-'           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'fee'         Name
')'           Punctuation
'\n    '      Text.Whitespace
'x:'          Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'get_y'       Name
'('           Punctuation
'j'           Name
','           Punctuation
' '           Text.Whitespace
'i'           Name
','           Punctuation
' '           Text.Whitespace
'y'           Name
','           Punctuation
' '           Text.Whitespace
'xp'          Name
','           Punctuation
' '           Text.Whitespace
'0'           Literal.Number.Integer
','           Punctuation
' '           Text.Whitespace
'0'           Literal.Number.Integer
')'           Punctuation
'\n    '      Text.Whitespace
'return'      Keyword
' '           Text.Whitespace
'('           Punctuation
'x'           Name
' '           Text.Whitespace
'-'           Operator
' '           Text.Whitespace
'xp'          Name
'['           Punctuation
'i'           Name
']'           Punctuation
')'           Punctuation
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'PRECISION'   Name
' '           Text.Whitespace
'/'           Operator
' '           Text.Whitespace
'rates'       Name
'['           Punctuation
'i'           Name
']'           Punctuation
'\n\n\n'      Text.Whitespace

'@external'   Name.Decorator
'\n'          Text.Whitespace

'@nonreentrant' Name.Decorator
'('           Punctuation
"'lock'"      Literal.String.Single
')'           Punctuation
'\n'          Text.Whitespace

'def'         Keyword
' '           Text.Whitespace
'exchange'    Name
'('           Punctuation
'\n    '      Text.Whitespace
'i:'          Name.Variable
' '           Text.Whitespace
'int128'      Keyword.Type
','           Punctuation
'\n    '      Text.Whitespace
'j:'          Name.Variable
' '           Text.Whitespace
'int128'      Keyword.Type
','           Punctuation
'\n    '      Text.Whitespace
'_dx:'        Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
','           Punctuation
'\n    '      Text.Whitespace
'_min_dy:'    Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
','           Punctuation
'\n    '      Text.Whitespace
'_receiver:'  Name.Variable
' '           Text.Whitespace
'address'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'msg.sender'  Name.Builtin.Pseudo
','           Punctuation
'\n'          Text.Whitespace

')'           Punctuation
' '           Text.Whitespace
'-'           Operator
'>'           Operator
' '           Text.Whitespace
'uint256'     Keyword.Type
':'           Punctuation
'\n    '      Text.Whitespace
'"""'         Comment.Multiline
'\n    @notice Perform an exchange between two coins\n    @dev Index values can be found via the `coins` public getter method\n    @param i Index value for the coin to send\n    @param j Index valie of the coin to recieve\n    @param _dx Amount of `i` being exchanged\n    @param _min_dy Minimum amount of `j` to receive\n    @return Actual amount of `j` received\n    ' Comment.Multiline
'"""'         Comment.Multiline
'\n    '      Text.Whitespace
'rates:'      Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'['           Punctuation
'N_COINS'     Name
']'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'rate_multipliers' Name
'\n    '      Text.Whitespace
'old_balances:' Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'['           Punctuation
'N_COINS'     Name
']'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'balances'    Name
'\n    '      Text.Whitespace
'xp:'         Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'['           Punctuation
'N_COINS'     Name
']'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'_xp_mem'     Name
'('           Punctuation
'rates'       Name
','           Punctuation
' '           Text.Whitespace
'old_balances' Name
')'           Punctuation
'\n\n    '    Text.Whitespace
'x:'          Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'xp'          Name
'['           Punctuation
'i'           Name
']'           Punctuation
' '           Text.Whitespace
'+'           Operator
' '           Text.Whitespace
'_dx'         Name
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'rates'       Name
'['           Punctuation
'i'           Name
']'           Punctuation
' '           Text.Whitespace
'/'           Operator
' '           Text.Whitespace
'PRECISION'   Name
'\n\n    '    Text.Whitespace
'amp:'        Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'_A'          Name
'('           Punctuation
')'           Punctuation
'\n    '      Text.Whitespace
'D:'          Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'get_D'       Name
'('           Punctuation
'xp'          Name
','           Punctuation
' '           Text.Whitespace
'amp'         Name
')'           Punctuation
'\n    '      Text.Whitespace
'y:'          Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'get_y'       Name
'('           Punctuation
'i'           Name
','           Punctuation
' '           Text.Whitespace
'j'           Name
','           Punctuation
' '           Text.Whitespace
'x'           Name
','           Punctuation
' '           Text.Whitespace
'xp'          Name
','           Punctuation
' '           Text.Whitespace
'amp'         Name
','           Punctuation
' '           Text.Whitespace
'D'           Name
')'           Punctuation
'\n\n    '    Text.Whitespace
'dy:'         Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'xp'          Name
'['           Punctuation
'j'           Name
']'           Punctuation
' '           Text.Whitespace
'-'           Operator
' '           Text.Whitespace
'y'           Name
' '           Text.Whitespace
'-'           Operator
' '           Text.Whitespace
'1'           Literal.Number.Integer
'  '          Text.Whitespace
'# -1 just in case there were some rounding errors' Comment.Single
'\n    '      Text.Whitespace
'dy_fee:'     Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'dy'          Name
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'fee'         Name
' '           Text.Whitespace
'/'           Operator
' '           Text.Whitespace
'FEE_DENOMINATOR' Name
'\n\n    '    Text.Whitespace
'# Convert all to real units' Comment.Single
'\n    '      Text.Whitespace
'dy'          Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'('           Punctuation
'dy'          Name
' '           Text.Whitespace
'-'           Operator
' '           Text.Whitespace
'dy_fee'      Name
')'           Punctuation
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'PRECISION'   Name
' '           Text.Whitespace
'/'           Operator
' '           Text.Whitespace
'rates'       Name
'['           Punctuation
'j'           Name
']'           Punctuation
'\n    '      Text.Whitespace
'assert'      Keyword
' '           Text.Whitespace
'dy'          Name
' '           Text.Whitespace
'>='          Operator
' '           Text.Whitespace
'_min_dy'     Name
','           Punctuation
' '           Text.Whitespace
'"Exchange resulted in fewer coins than expected"' Literal.String.Double
'\n\n    '    Text.Whitespace
'# xp is not used anymore, so we reuse it for price calc' Comment.Single
'\n    '      Text.Whitespace
'xp'          Name
'['           Punctuation
'i'           Name
']'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'x'           Name
'\n    '      Text.Whitespace
'xp'          Name
'['           Punctuation
'j'           Name
']'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'y'           Name
'\n    '      Text.Whitespace
'# D is not changed because we did not apply a fee' Comment.Single
'\n    '      Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'save_p'      Name
'('           Punctuation
'xp'          Name
','           Punctuation
' '           Text.Whitespace
'amp'         Name
','           Punctuation
' '           Text.Whitespace
'D'           Name
')'           Punctuation
'\n\n    '    Text.Whitespace
'dy_admin_fee:' Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'dy_fee'      Name
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'ADMIN_FEE'   Name
' '           Text.Whitespace
'/'           Operator
' '           Text.Whitespace
'FEE_DENOMINATOR' Name
'\n    '      Text.Whitespace
'dy_admin_fee' Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'dy_admin_fee' Name
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'PRECISION'   Name
' '           Text.Whitespace
'/'           Operator
' '           Text.Whitespace
'rates'       Name
'['           Punctuation
'j'           Name
']'           Punctuation
'\n\n    '    Text.Whitespace
'# Change balances exactly in same way as we change actual ERC20 coin amounts' Comment.Single
'\n    '      Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'balances'    Name
'['           Punctuation
'i'           Name
']'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'old_balances' Name
'['           Punctuation
'i'           Name
']'           Punctuation
' '           Text.Whitespace
'+'           Operator
' '           Text.Whitespace
'_dx'         Name
'\n    '      Text.Whitespace
'# When rounding errors happen, we undercharge admin fee in favor of LP' Comment.Single
'\n    '      Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'balances'    Name
'['           Punctuation
'j'           Name
']'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'old_balances' Name
'['           Punctuation
'j'           Name
']'           Punctuation
' '           Text.Whitespace
'-'           Operator
' '           Text.Whitespace
'dy'          Name
' '           Text.Whitespace
'-'           Operator
' '           Text.Whitespace
'dy_admin_fee' Name
'\n\n    '    Text.Whitespace
'assert'      Keyword
' '           Text.Whitespace
'ERC20'       Name.Class
'('           Punctuation
'self'        Name.Attribute
'.'           Punctuation
'coins'       Name
'['           Punctuation
'i'           Name
']'           Punctuation
')'           Punctuation
'.'           Punctuation
'transferFrom' Name
'('           Punctuation
'msg.sender'  Name.Builtin.Pseudo
','           Punctuation
' '           Text.Whitespace
'self'        Name.Attribute
','           Punctuation
' '           Text.Whitespace
'_dx'         Name
','           Punctuation
' '           Text.Whitespace
'default_return_value' Name
'='           Operator
'True'        Name
')'           Punctuation
'  '          Text.Whitespace
'# dev: failed transfer' Comment.Single
'\n    '      Text.Whitespace
'assert'      Keyword
' '           Text.Whitespace
'ERC20'       Name.Class
'('           Punctuation
'self'        Name.Attribute
'.'           Punctuation
'coins'       Name
'['           Punctuation
'j'           Name
']'           Punctuation
')'           Punctuation
'.'           Punctuation
'transfer'    Name
'('           Punctuation
'_receiver'   Name
','           Punctuation
' '           Text.Whitespace
'dy'          Name
','           Punctuation
' '           Text.Whitespace
'default_return_value' Name
'='           Operator
'True'        Name
')'           Punctuation
'  '          Text.Whitespace
'# dev: failed transfer' Comment.Single
'\n\n    '    Text.Whitespace
'log'         Keyword
' '           Text.Whitespace
'TokenExchange' Name
'('           Punctuation
'msg.sender'  Name.Builtin.Pseudo
','           Punctuation
' '           Text.Whitespace
'i'           Name
','           Punctuation
' '           Text.Whitespace
'_dx'         Name
','           Punctuation
' '           Text.Whitespace
'j'           Name
','           Punctuation
' '           Text.Whitespace
'dy'          Name
')'           Punctuation
'\n\n    '    Text.Whitespace
'return'      Keyword
' '           Text.Whitespace
'dy'          Name
'\n\n\n'      Text.Whitespace

'@external'   Name.Decorator
'\n'          Text.Whitespace

'@nonreentrant' Name.Decorator
'('           Punctuation
"'lock'"      Literal.String.Single
')'           Punctuation
'\n'          Text.Whitespace

'def'         Keyword
' '           Text.Whitespace
'remove_liquidity' Name
'('           Punctuation
'\n    '      Text.Whitespace
'_burn_amount:' Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
','           Punctuation
'\n    '      Text.Whitespace
'_min_amounts:' Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'['           Punctuation
'N_COINS'     Name
']'           Punctuation
','           Punctuation
'\n    '      Text.Whitespace
'_receiver:'  Name.Variable
' '           Text.Whitespace
'address'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'msg.sender'  Name.Builtin.Pseudo
'\n'          Text.Whitespace

')'           Punctuation
' '           Text.Whitespace
'-'           Operator
'>'           Operator
' '           Text.Whitespace
'uint256'     Keyword.Type
'['           Punctuation
'N_COINS'     Name
']'           Punctuation
':'           Punctuation
'\n    '      Text.Whitespace
'"""'         Comment.Multiline
'\n    @notice Withdraw coins from the pool\n    @dev Withdrawal amounts are based on current deposit ratios\n    @param _burn_amount Quantity of LP tokens to burn in the withdrawal\n    @param _min_amounts Minimum amounts of underlying coins to receive\n    @param _receiver Address that receives the withdrawn coins\n    @return List of amounts of coins that were withdrawn\n    ' Comment.Multiline
'"""'         Comment.Multiline
'\n    '      Text.Whitespace
'total_supply:' Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'totalSupply' Name
'\n    '      Text.Whitespace
'amounts:'    Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'['           Punctuation
'N_COINS'     Name
']'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'empty'       Name.Builtin
'('           Punctuation
'uint256'     Keyword.Type
'['           Punctuation
'N_COINS'     Name
']'           Punctuation
')'           Punctuation
'\n\n    '    Text.Whitespace
'for'         Keyword
' '           Text.Whitespace
'i'           Name
' '           Text.Whitespace
'in'          Keyword
' '           Text.Whitespace
'range'       Name.Builtin
'('           Punctuation
'N_COINS'     Name
')'           Punctuation
':'           Punctuation
'\n        '  Text.Whitespace
'old_balance:' Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'balances'    Name
'['           Punctuation
'i'           Name
']'           Punctuation
'\n        '  Text.Whitespace
'value:'      Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'old_balance' Name
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'_burn_amount' Name
' '           Text.Whitespace
'/'           Operator
' '           Text.Whitespace
'total_supply' Name
'\n        '  Text.Whitespace
'assert'      Keyword
' '           Text.Whitespace
'value'       Name
' '           Text.Whitespace
'>='          Operator
' '           Text.Whitespace
'_min_amounts' Name
'['           Punctuation
'i'           Name
']'           Punctuation
','           Punctuation
' '           Text.Whitespace
'"Withdrawal resulted in fewer coins than expected"' Literal.String.Double
'\n        '  Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'balances'    Name
'['           Punctuation
'i'           Name
']'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'old_balance' Name
' '           Text.Whitespace
'-'           Operator
' '           Text.Whitespace
'value'       Name
'\n        '  Text.Whitespace
'amounts'     Name
'['           Punctuation
'i'           Name
']'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'value'       Name
'\n        '  Text.Whitespace
'assert'      Keyword
' '           Text.Whitespace
'ERC20'       Name.Class
'('           Punctuation
'self'        Name.Attribute
'.'           Punctuation
'coins'       Name
'['           Punctuation
'i'           Name
']'           Punctuation
')'           Punctuation
'.'           Punctuation
'transfer'    Name
'('           Punctuation
'_receiver'   Name
','           Punctuation
' '           Text.Whitespace
'value'       Name
','           Punctuation
' '           Text.Whitespace
'default_return_value' Name
'='           Operator
'True'        Name
')'           Punctuation
'  '          Text.Whitespace
'# dev: failed transfer' Comment.Single
'\n\n    '    Text.Whitespace
'total_supply' Name
' '           Text.Whitespace
'-'           Operator
'='           Operator
' '           Text.Whitespace
'_burn_amount' Name
'\n    '      Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'balanceOf'   Name
'['           Punctuation
'msg.sender'  Name.Builtin.Pseudo
']'           Punctuation
' '           Text.Whitespace
'-'           Operator
'='           Operator
' '           Text.Whitespace
'_burn_amount' Name
'\n    '      Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'totalSupply' Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'total_supply' Name
'\n    '      Text.Whitespace
'log'         Keyword
' '           Text.Whitespace
'Transfer'    Name
'('           Punctuation
'msg.sender'  Name.Builtin.Pseudo
','           Punctuation
' '           Text.Whitespace
'empty'       Name.Builtin
'('           Punctuation
'address'     Keyword.Type
')'           Punctuation
','           Punctuation
' '           Text.Whitespace
'_burn_amount' Name
')'           Punctuation
'\n\n    '    Text.Whitespace
'log'         Keyword
' '           Text.Whitespace
'RemoveLiquidity' Name
'('           Punctuation
'msg.sender'  Name.Builtin.Pseudo
','           Punctuation
' '           Text.Whitespace
'amounts'     Name
','           Punctuation
' '           Text.Whitespace
'empty'       Name.Builtin
'('           Punctuation
'uint256'     Keyword.Type
'['           Punctuation
'N_COINS'     Name
']'           Punctuation
')'           Punctuation
','           Punctuation
' '           Text.Whitespace
'total_supply' Name
')'           Punctuation
'\n\n    '    Text.Whitespace
'return'      Keyword
' '           Text.Whitespace
'amounts'     Name
'\n\n\n'      Text.Whitespace

'@external'   Name.Decorator
'\n'          Text.Whitespace

'@nonreentrant' Name.Decorator
'('           Punctuation
"'lock'"      Literal.String.Single
')'           Punctuation
'\n'          Text.Whitespace

'def'         Keyword
' '           Text.Whitespace
'remove_liquidity_imbalance' Name
'('           Punctuation
'\n    '      Text.Whitespace
'_amounts:'   Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'['           Punctuation
'N_COINS'     Name
']'           Punctuation
','           Punctuation
'\n    '      Text.Whitespace
'_max_burn_amount:' Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
','           Punctuation
'\n    '      Text.Whitespace
'_receiver:'  Name.Variable
' '           Text.Whitespace
'address'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'msg.sender'  Name.Builtin.Pseudo
'\n'          Text.Whitespace

')'           Punctuation
' '           Text.Whitespace
'-'           Operator
'>'           Operator
' '           Text.Whitespace
'uint256'     Keyword.Type
':'           Punctuation
'\n    '      Text.Whitespace
'"""'         Comment.Multiline
'\n    @notice Withdraw coins from the pool in an imbalanced amount\n    @param _amounts List of amounts of underlying coins to withdraw\n    @param _max_burn_amount Maximum amount of LP token to burn in the withdrawal\n    @param _receiver Address that receives the withdrawn coins\n    @return Actual amount of the LP token burned in the withdrawal\n    ' Comment.Multiline
'"""'         Comment.Multiline
'\n    '      Text.Whitespace
'amp:'        Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'_A'          Name
'('           Punctuation
')'           Punctuation
'\n    '      Text.Whitespace
'rates:'      Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'['           Punctuation
'N_COINS'     Name
']'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'rate_multipliers' Name
'\n    '      Text.Whitespace
'old_balances:' Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'['           Punctuation
'N_COINS'     Name
']'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'balances'    Name
'\n    '      Text.Whitespace
'D0:'         Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'get_D_mem'   Name
'('           Punctuation
'rates'       Name
','           Punctuation
' '           Text.Whitespace
'old_balances' Name
','           Punctuation
' '           Text.Whitespace
'amp'         Name
')'           Punctuation
'\n\n    '    Text.Whitespace
'new_balances:' Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'['           Punctuation
'N_COINS'     Name
']'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'old_balances' Name
'\n    '      Text.Whitespace
'for'         Keyword
' '           Text.Whitespace
'i'           Name
' '           Text.Whitespace
'in'          Keyword
' '           Text.Whitespace
'range'       Name.Builtin
'('           Punctuation
'N_COINS'     Name
')'           Punctuation
':'           Punctuation
'\n        '  Text.Whitespace
'amount:'     Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'_amounts'    Name
'['           Punctuation
'i'           Name
']'           Punctuation
'\n        '  Text.Whitespace
'if'          Keyword
' '           Text.Whitespace
'amount'      Name
' '           Text.Whitespace
'!='          Operator
' '           Text.Whitespace
'0'           Literal.Number.Integer
':'           Punctuation
'\n            ' Text.Whitespace
'new_balances' Name
'['           Punctuation
'i'           Name
']'           Punctuation
' '           Text.Whitespace
'-'           Operator
'='           Operator
' '           Text.Whitespace
'amount'      Name
'\n            ' Text.Whitespace
'assert'      Keyword
' '           Text.Whitespace
'ERC20'       Name.Class
'('           Punctuation
'self'        Name.Attribute
'.'           Punctuation
'coins'       Name
'['           Punctuation
'i'           Name
']'           Punctuation
')'           Punctuation
'.'           Punctuation
'transfer'    Name
'('           Punctuation
'_receiver'   Name
','           Punctuation
' '           Text.Whitespace
'amount'      Name
','           Punctuation
' '           Text.Whitespace
'default_return_value' Name
'='           Operator
'True'        Name
')'           Punctuation
'  '          Text.Whitespace
'# dev: failed transfer' Comment.Single
'\n\n    '    Text.Whitespace
'D1:'         Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'get_D_mem'   Name
'('           Punctuation
'rates'       Name
','           Punctuation
' '           Text.Whitespace
'new_balances' Name
','           Punctuation
' '           Text.Whitespace
'amp'         Name
')'           Punctuation
'\n\n    '    Text.Whitespace
'fees:'       Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'['           Punctuation
'N_COINS'     Name
']'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'empty'       Name.Builtin
'('           Punctuation
'uint256'     Keyword.Type
'['           Punctuation
'N_COINS'     Name
']'           Punctuation
')'           Punctuation
'\n    '      Text.Whitespace
'base_fee:'   Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'fee'         Name
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'N_COINS'     Name
' '           Text.Whitespace
'/'           Operator
' '           Text.Whitespace
'('           Punctuation
'4'           Literal.Number.Integer
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'('           Punctuation
'N_COINS'     Name
' '           Text.Whitespace
'-'           Operator
' '           Text.Whitespace
'1'           Literal.Number.Integer
')'           Punctuation
')'           Punctuation
'\n    '      Text.Whitespace
'for'         Keyword
' '           Text.Whitespace
'i'           Name
' '           Text.Whitespace
'in'          Keyword
' '           Text.Whitespace
'range'       Name.Builtin
'('           Punctuation
'N_COINS'     Name
')'           Punctuation
':'           Punctuation
'\n        '  Text.Whitespace
'ideal_balance:' Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'D1'          Name
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'old_balances' Name
'['           Punctuation
'i'           Name
']'           Punctuation
' '           Text.Whitespace
'/'           Operator
' '           Text.Whitespace
'D0'          Name
'\n        '  Text.Whitespace
'difference:' Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'0'           Literal.Number.Integer
'\n        '  Text.Whitespace
'new_balance:' Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'new_balances' Name
'['           Punctuation
'i'           Name
']'           Punctuation
'\n        '  Text.Whitespace
'if'          Keyword
' '           Text.Whitespace
'ideal_balance' Name
' '           Text.Whitespace
'>'           Operator
' '           Text.Whitespace
'new_balance:' Name.Variable
'\n            ' Text.Whitespace
'difference'  Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'ideal_balance' Name
' '           Text.Whitespace
'-'           Operator
' '           Text.Whitespace
'new_balance' Name
'\n        '  Text.Whitespace
'else'        Keyword
':'           Punctuation
'\n            ' Text.Whitespace
'difference'  Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'new_balance' Name
' '           Text.Whitespace
'-'           Operator
' '           Text.Whitespace
'ideal_balance' Name
'\n        '  Text.Whitespace
'fees'        Name
'['           Punctuation
'i'           Name
']'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'base_fee'    Name
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'difference'  Name
' '           Text.Whitespace
'/'           Operator
' '           Text.Whitespace
'FEE_DENOMINATOR' Name
'\n        '  Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'balances'    Name
'['           Punctuation
'i'           Name
']'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'new_balance' Name
' '           Text.Whitespace
'-'           Operator
' '           Text.Whitespace
'('           Punctuation
'fees'        Name
'['           Punctuation
'i'           Name
']'           Punctuation
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'ADMIN_FEE'   Name
' '           Text.Whitespace
'/'           Operator
' '           Text.Whitespace
'FEE_DENOMINATOR' Name
')'           Punctuation
'\n        '  Text.Whitespace
'new_balances' Name
'['           Punctuation
'i'           Name
']'           Punctuation
' '           Text.Whitespace
'-'           Operator
'='           Operator
' '           Text.Whitespace
'fees'        Name
'['           Punctuation
'i'           Name
']'           Punctuation
'\n    '      Text.Whitespace
'new_balances' Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'_xp_mem'     Name
'('           Punctuation
'rates'       Name
','           Punctuation
' '           Text.Whitespace
'new_balances' Name
')'           Punctuation
'\n    '      Text.Whitespace
'D2:'         Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'get_D'       Name
'('           Punctuation
'new_balances' Name
','           Punctuation
' '           Text.Whitespace
'amp'         Name
')'           Punctuation
'\n\n    '    Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'save_p'      Name
'('           Punctuation
'new_balances' Name
','           Punctuation
' '           Text.Whitespace
'amp'         Name
','           Punctuation
' '           Text.Whitespace
'D2'          Name
')'           Punctuation
'\n\n    '    Text.Whitespace
'total_supply:' Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'totalSupply' Name
'\n    '      Text.Whitespace
'burn_amount:' Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'('           Punctuation
'('           Punctuation
'D0'          Name
' '           Text.Whitespace
'-'           Operator
' '           Text.Whitespace
'D2'          Name
')'           Punctuation
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'total_supply' Name
' '           Text.Whitespace
'/'           Operator
' '           Text.Whitespace
'D0'          Name
')'           Punctuation
' '           Text.Whitespace
'+'           Operator
' '           Text.Whitespace
'1'           Literal.Number.Integer
'\n    '      Text.Whitespace
'assert'      Keyword
' '           Text.Whitespace
'burn_amount' Name
' '           Text.Whitespace
'>'           Operator
' '           Text.Whitespace
'1'           Literal.Number.Integer
'  '          Text.Whitespace
'# dev: zero tokens burned' Comment.Single
'\n    '      Text.Whitespace
'assert'      Keyword
' '           Text.Whitespace
'burn_amount' Name
' '           Text.Whitespace
'<='          Operator
' '           Text.Whitespace
'_max_burn_amount' Name
','           Punctuation
' '           Text.Whitespace
'"Slippage screwed you"' Literal.String.Double
'\n\n    '    Text.Whitespace
'total_supply' Name
' '           Text.Whitespace
'-'           Operator
'='           Operator
' '           Text.Whitespace
'burn_amount' Name
'\n    '      Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'totalSupply' Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'total_supply' Name
'\n    '      Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'balanceOf'   Name
'['           Punctuation
'msg.sender'  Name.Builtin.Pseudo
']'           Punctuation
' '           Text.Whitespace
'-'           Operator
'='           Operator
' '           Text.Whitespace
'burn_amount' Name
'\n    '      Text.Whitespace
'log'         Keyword
' '           Text.Whitespace
'Transfer'    Name
'('           Punctuation
'msg.sender'  Name.Builtin.Pseudo
','           Punctuation
' '           Text.Whitespace
'empty'       Name.Builtin
'('           Punctuation
'address'     Keyword.Type
')'           Punctuation
','           Punctuation
' '           Text.Whitespace
'burn_amount' Name
')'           Punctuation
'\n    '      Text.Whitespace
'log'         Keyword
' '           Text.Whitespace
'RemoveLiquidityImbalance' Name
'('           Punctuation
'msg.sender'  Name.Builtin.Pseudo
','           Punctuation
' '           Text.Whitespace
'_amounts'    Name
','           Punctuation
' '           Text.Whitespace
'fees'        Name
','           Punctuation
' '           Text.Whitespace
'D1'          Name
','           Punctuation
' '           Text.Whitespace
'total_supply' Name
')'           Punctuation
'\n\n    '    Text.Whitespace
'return'      Keyword
' '           Text.Whitespace
'burn_amount' Name
'\n\n\n'      Text.Whitespace

'@pure'       Name.Decorator
'\n'          Text.Whitespace

'@internal'   Name.Decorator
'\n'          Text.Whitespace

'def'         Keyword
' '           Text.Whitespace
'get_y_D'     Name
'('           Punctuation
'A:'          Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
','           Punctuation
' '           Text.Whitespace
'i:'          Name.Variable
' '           Text.Whitespace
'int128'      Keyword.Type
','           Punctuation
' '           Text.Whitespace
'xp:'         Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'['           Punctuation
'N_COINS'     Name
']'           Punctuation
','           Punctuation
' '           Text.Whitespace
'D:'          Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
')'           Punctuation
' '           Text.Whitespace
'-'           Operator
'>'           Operator
' '           Text.Whitespace
'uint256'     Keyword.Type
':'           Punctuation
'\n    '      Text.Whitespace
'"""'         Comment.Multiline
"\n    Calculate x[i] if one reduces D from being calculated for xp to D\n\n    Done by solving quadratic equation iteratively.\n    x_1**2 + x_1 * (sum' - (A*n**n - 1) * D / (A * n**n)) = D ** (n + 1) / (n ** (2 * n) * prod' * A)\n    x_1**2 + b*x_1 = c\n\n    x_1 = (x_1**2 + c) / (2*x_1 + b)\n    " Comment.Multiline
'"""'         Comment.Multiline
'\n    '      Text.Whitespace
'# x in the input is converted to the same price/precision' Comment.Single
'\n\n    '    Text.Whitespace
'assert'      Keyword
' '           Text.Whitespace
'i'           Name
' '           Text.Whitespace
'>='          Operator
' '           Text.Whitespace
'0'           Literal.Number.Integer
'  '          Text.Whitespace
'# dev: i below zero' Comment.Single
'\n    '      Text.Whitespace
'assert'      Keyword
' '           Text.Whitespace
'i'           Name
' '           Text.Whitespace
'<'           Operator
' '           Text.Whitespace
'N_COINS_128' Name
'  '          Text.Whitespace
'# dev: i above N_COINS' Comment.Single
'\n\n    '    Text.Whitespace
'S_:'         Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'0'           Literal.Number.Integer
'\n    '      Text.Whitespace
'_x:'         Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'0'           Literal.Number.Integer
'\n    '      Text.Whitespace
'y_prev:'     Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'0'           Literal.Number.Integer
'\n    '      Text.Whitespace
'c:'          Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'D'           Name
'\n    '      Text.Whitespace
'Ann:'        Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'A'           Name
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'N_COINS'     Name
'\n\n    '    Text.Whitespace
'for'         Keyword
' '           Text.Whitespace
'_i'          Name
' '           Text.Whitespace
'in'          Keyword
' '           Text.Whitespace
'range'       Name.Builtin
'('           Punctuation
'N_COINS_128' Name
')'           Punctuation
':'           Punctuation
'\n        '  Text.Whitespace
'if'          Keyword
' '           Text.Whitespace
'_i'          Name
' '           Text.Whitespace
'!='          Operator
' '           Text.Whitespace
'i:'          Name.Variable
'\n            ' Text.Whitespace
'_x'          Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'xp'          Name
'['           Punctuation
'_i'          Name
']'           Punctuation
'\n        '  Text.Whitespace
'else'        Keyword
':'           Punctuation
'\n            ' Text.Whitespace
'continue'    Name
'\n        '  Text.Whitespace
'S_'          Name
' '           Text.Whitespace
'+'           Operator
'='           Operator
' '           Text.Whitespace
'_x'          Name
'\n        '  Text.Whitespace
'c'           Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'c'           Name
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'D'           Name
' '           Text.Whitespace
'/'           Operator
' '           Text.Whitespace
'('           Punctuation
'_x'          Name
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'N_COINS'     Name
')'           Punctuation
'\n\n    '    Text.Whitespace
'c'           Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'c'           Name
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'D'           Name
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'A_PRECISION' Name
' '           Text.Whitespace
'/'           Operator
' '           Text.Whitespace
'('           Punctuation
'Ann'         Name
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'N_COINS'     Name
')'           Punctuation
'\n    '      Text.Whitespace
'b:'          Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'S_'          Name
' '           Text.Whitespace
'+'           Operator
' '           Text.Whitespace
'D'           Name
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'A_PRECISION' Name
' '           Text.Whitespace
'/'           Operator
' '           Text.Whitespace
'Ann'         Name
'\n    '      Text.Whitespace
'y:'          Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'D'           Name
'\n\n    '    Text.Whitespace
'for'         Keyword
' '           Text.Whitespace
'_i'          Name
' '           Text.Whitespace
'in'          Keyword
' '           Text.Whitespace
'range'       Name.Builtin
'('           Punctuation
'255'         Literal.Number.Integer
')'           Punctuation
':'           Punctuation
'\n        '  Text.Whitespace
'y_prev'      Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'y'           Name
'\n        '  Text.Whitespace
'y'           Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'('           Punctuation
'y'           Name
'*'           Operator
'y'           Name
' '           Text.Whitespace
'+'           Operator
' '           Text.Whitespace
'c'           Name
')'           Punctuation
' '           Text.Whitespace
'/'           Operator
' '           Text.Whitespace
'('           Punctuation
'2'           Literal.Number.Integer
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'y'           Name
' '           Text.Whitespace
'+'           Operator
' '           Text.Whitespace
'b'           Name
' '           Text.Whitespace
'-'           Operator
' '           Text.Whitespace
'D'           Name
')'           Punctuation
'\n        '  Text.Whitespace
'# Equality with the precision of 1' Comment.Single
'\n        '  Text.Whitespace
'if'          Keyword
' '           Text.Whitespace
'y'           Name
' '           Text.Whitespace
'>'           Operator
' '           Text.Whitespace
'y_prev:'     Name.Variable
'\n            ' Text.Whitespace
'if'          Keyword
' '           Text.Whitespace
'y'           Name
' '           Text.Whitespace
'-'           Operator
' '           Text.Whitespace
'y_prev'      Name
' '           Text.Whitespace
'<='          Operator
' '           Text.Whitespace
'1'           Literal.Number.Integer
':'           Punctuation
'\n                ' Text.Whitespace
'return'      Keyword
' '           Text.Whitespace
'y'           Name
'\n        '  Text.Whitespace
'else'        Keyword
':'           Punctuation
'\n            ' Text.Whitespace
'if'          Keyword
' '           Text.Whitespace
'y_prev'      Name
' '           Text.Whitespace
'-'           Operator
' '           Text.Whitespace
'y'           Name
' '           Text.Whitespace
'<='          Operator
' '           Text.Whitespace
'1'           Literal.Number.Integer
':'           Punctuation
'\n                ' Text.Whitespace
'return'      Keyword
' '           Text.Whitespace
'y'           Name
'\n    '      Text.Whitespace
'raise'       Keyword
'\n\n\n'      Text.Whitespace

'@view'       Name.Decorator
'\n'          Text.Whitespace

'@internal'   Name.Decorator
'\n'          Text.Whitespace

'def'         Keyword
' '           Text.Whitespace
'_calc_withdraw_one_coin' Name
'('           Punctuation
'_burn_amount:' Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
','           Punctuation
' '           Text.Whitespace
'i:'          Name.Variable
' '           Text.Whitespace
'int128'      Keyword.Type
')'           Punctuation
' '           Text.Whitespace
'-'           Operator
'>'           Operator
' '           Text.Whitespace
'uint256'     Keyword.Type
'['           Punctuation
'3'           Literal.Number.Integer
']'           Punctuation
':'           Punctuation
'\n    '      Text.Whitespace
'# First, need to calculate' Comment.Single
'\n    '      Text.Whitespace
'# * Get current D' Comment.Single
'\n    '      Text.Whitespace
'# * Solve Eqn against y_i for D - _token_amount' Comment.Single
'\n    '      Text.Whitespace
'amp:'        Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'_A'          Name
'('           Punctuation
')'           Punctuation
'\n    '      Text.Whitespace
'rates:'      Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'['           Punctuation
'N_COINS'     Name
']'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'rate_multipliers' Name
'\n    '      Text.Whitespace
'xp:'         Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'['           Punctuation
'N_COINS'     Name
']'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'_xp_mem'     Name
'('           Punctuation
'rates'       Name
','           Punctuation
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'balances'    Name
')'           Punctuation
'\n    '      Text.Whitespace
'D0:'         Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'get_D'       Name
'('           Punctuation
'xp'          Name
','           Punctuation
' '           Text.Whitespace
'amp'         Name
')'           Punctuation
'\n\n    '    Text.Whitespace
'total_supply:' Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'totalSupply' Name
'\n    '      Text.Whitespace
'D1:'         Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'D0'          Name
' '           Text.Whitespace
'-'           Operator
' '           Text.Whitespace
'_burn_amount' Name
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'D0'          Name
' '           Text.Whitespace
'/'           Operator
' '           Text.Whitespace
'total_supply' Name
'\n    '      Text.Whitespace
'new_y:'      Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'get_y_D'     Name
'('           Punctuation
'amp'         Name
','           Punctuation
' '           Text.Whitespace
'i'           Name
','           Punctuation
' '           Text.Whitespace
'xp'          Name
','           Punctuation
' '           Text.Whitespace
'D1'          Name
')'           Punctuation
'\n\n    '    Text.Whitespace
'base_fee:'   Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'fee'         Name
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'N_COINS'     Name
' '           Text.Whitespace
'/'           Operator
' '           Text.Whitespace
'('           Punctuation
'4'           Literal.Number.Integer
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'('           Punctuation
'N_COINS'     Name
' '           Text.Whitespace
'-'           Operator
' '           Text.Whitespace
'1'           Literal.Number.Integer
')'           Punctuation
')'           Punctuation
'\n    '      Text.Whitespace
'xp_reduced:' Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'['           Punctuation
'N_COINS'     Name
']'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'empty'       Name.Builtin
'('           Punctuation
'uint256'     Keyword.Type
'['           Punctuation
'N_COINS'     Name
']'           Punctuation
')'           Punctuation
'\n\n    '    Text.Whitespace
'for'         Keyword
' '           Text.Whitespace
'j'           Name
' '           Text.Whitespace
'in'          Keyword
' '           Text.Whitespace
'range'       Name.Builtin
'('           Punctuation
'N_COINS_128' Name
')'           Punctuation
':'           Punctuation
'\n        '  Text.Whitespace
'dx_expected:' Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'0'           Literal.Number.Integer
'\n        '  Text.Whitespace
'xp_j:'       Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'xp'          Name
'['           Punctuation
'j'           Name
']'           Punctuation
'\n        '  Text.Whitespace
'if'          Keyword
' '           Text.Whitespace
'j'           Name
' '           Text.Whitespace
'=='          Operator
' '           Text.Whitespace
'i:'          Name.Variable
'\n            ' Text.Whitespace
'dx_expected' Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'xp_j'        Name
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'D1'          Name
' '           Text.Whitespace
'/'           Operator
' '           Text.Whitespace
'D0'          Name
' '           Text.Whitespace
'-'           Operator
' '           Text.Whitespace
'new_y'       Name
'\n        '  Text.Whitespace
'else'        Keyword
':'           Punctuation
'\n            ' Text.Whitespace
'dx_expected' Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'xp_j'        Name
' '           Text.Whitespace
'-'           Operator
' '           Text.Whitespace
'xp_j'        Name
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'D1'          Name
' '           Text.Whitespace
'/'           Operator
' '           Text.Whitespace
'D0'          Name
'\n        '  Text.Whitespace
'xp_reduced'  Name
'['           Punctuation
'j'           Name
']'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'xp_j'        Name
' '           Text.Whitespace
'-'           Operator
' '           Text.Whitespace
'base_fee'    Name
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'dx_expected' Name
' '           Text.Whitespace
'/'           Operator
' '           Text.Whitespace
'FEE_DENOMINATOR' Name
'\n\n    '    Text.Whitespace
'dy:'         Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'xp_reduced'  Name
'['           Punctuation
'i'           Name
']'           Punctuation
' '           Text.Whitespace
'-'           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'get_y_D'     Name
'('           Punctuation
'amp'         Name
','           Punctuation
' '           Text.Whitespace
'i'           Name
','           Punctuation
' '           Text.Whitespace
'xp_reduced'  Name
','           Punctuation
' '           Text.Whitespace
'D1'          Name
')'           Punctuation
'\n    '      Text.Whitespace
'dy_0:'       Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'('           Punctuation
'xp'          Name
'['           Punctuation
'i'           Name
']'           Punctuation
' '           Text.Whitespace
'-'           Operator
' '           Text.Whitespace
'new_y'       Name
')'           Punctuation
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'PRECISION'   Name
' '           Text.Whitespace
'/'           Operator
' '           Text.Whitespace
'rates'       Name
'['           Punctuation
'i'           Name
']'           Punctuation
'  '          Text.Whitespace
'# w/o fees'  Comment.Single
'\n    '      Text.Whitespace
'dy'          Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'('           Punctuation
'dy'          Name
' '           Text.Whitespace
'-'           Operator
' '           Text.Whitespace
'1'           Literal.Number.Integer
')'           Punctuation
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'PRECISION'   Name
' '           Text.Whitespace
'/'           Operator
' '           Text.Whitespace
'rates'       Name
'['           Punctuation
'i'           Name
']'           Punctuation
'  '          Text.Whitespace
'# Withdraw less to account for rounding errors' Comment.Single
'\n\n    '    Text.Whitespace
'xp'          Name
'['           Punctuation
'i'           Name
']'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'new_y'       Name
'\n    '      Text.Whitespace
'last_p:'     Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'0'           Literal.Number.Integer
'\n    '      Text.Whitespace
'if'          Keyword
' '           Text.Whitespace
'new_y'       Name
' '           Text.Whitespace
'>'           Operator
' '           Text.Whitespace
'0'           Literal.Number.Integer
':'           Punctuation
'\n        '  Text.Whitespace
'last_p'      Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'_get_p'      Name
'('           Punctuation
'xp'          Name
','           Punctuation
' '           Text.Whitespace
'amp'         Name
','           Punctuation
' '           Text.Whitespace
'D1'          Name
')'           Punctuation
'\n\n    '    Text.Whitespace
'return'      Keyword
' '           Text.Whitespace
'['           Punctuation
'dy'          Name
','           Punctuation
' '           Text.Whitespace
'dy_0'        Name
' '           Text.Whitespace
'-'           Operator
' '           Text.Whitespace
'dy'          Name
','           Punctuation
' '           Text.Whitespace
'last_p'      Name
']'           Punctuation
'\n\n\n'      Text.Whitespace

'@view'       Name.Decorator
'\n'          Text.Whitespace

'@external'   Name.Decorator
'\n'          Text.Whitespace

'def'         Keyword
' '           Text.Whitespace
'calc_withdraw_one_coin' Name
'('           Punctuation
'_burn_amount:' Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
','           Punctuation
' '           Text.Whitespace
'i:'          Name.Variable
' '           Text.Whitespace
'int128'      Keyword.Type
')'           Punctuation
' '           Text.Whitespace
'-'           Operator
'>'           Operator
' '           Text.Whitespace
'uint256'     Keyword.Type
':'           Punctuation
'\n    '      Text.Whitespace
'"""'         Comment.Multiline
'\n    @notice Calculate the amount received when withdrawing a single coin\n    @param _burn_amount Amount of LP tokens to burn in the withdrawal\n    @param i Index value of the coin to withdraw\n    @return Amount of coin received\n    ' Comment.Multiline
'"""'         Comment.Multiline
'\n    '      Text.Whitespace
'return'      Keyword
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'_calc_withdraw_one_coin' Name
'('           Punctuation
'_burn_amount' Name
','           Punctuation
' '           Text.Whitespace
'i'           Name
')'           Punctuation
'['           Punctuation
'0'           Literal.Number.Integer
']'           Punctuation
'\n\n\n'      Text.Whitespace

'@external'   Name.Decorator
'\n'          Text.Whitespace

'@nonreentrant' Name.Decorator
'('           Punctuation
"'lock'"      Literal.String.Single
')'           Punctuation
'\n'          Text.Whitespace

'def'         Keyword
' '           Text.Whitespace
'remove_liquidity_one_coin' Name
'('           Punctuation
'\n    '      Text.Whitespace
'_burn_amount:' Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
','           Punctuation
'\n    '      Text.Whitespace
'i:'          Name.Variable
' '           Text.Whitespace
'int128'      Keyword.Type
','           Punctuation
'\n    '      Text.Whitespace
'_min_received:' Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
','           Punctuation
'\n    '      Text.Whitespace
'_receiver:'  Name.Variable
' '           Text.Whitespace
'address'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'msg.sender'  Name.Builtin.Pseudo
','           Punctuation
'\n'          Text.Whitespace

')'           Punctuation
' '           Text.Whitespace
'-'           Operator
'>'           Operator
' '           Text.Whitespace
'uint256'     Keyword.Type
':'           Punctuation
'\n    '      Text.Whitespace
'"""'         Comment.Multiline
'\n    @notice Withdraw a single coin from the pool\n    @param _burn_amount Amount of LP tokens to burn in the withdrawal\n    @param i Index value of the coin to withdraw\n    @param _min_received Minimum amount of coin to receive\n    @param _receiver Address that receives the withdrawn coins\n    @return Amount of coin received\n    ' Comment.Multiline
'"""'         Comment.Multiline
'\n    '      Text.Whitespace
'dy:'         Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
'['           Punctuation
'3'           Literal.Number.Integer
']'           Punctuation
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'_calc_withdraw_one_coin' Name
'('           Punctuation
'_burn_amount' Name
','           Punctuation
' '           Text.Whitespace
'i'           Name
')'           Punctuation
'\n    '      Text.Whitespace
'assert'      Keyword
' '           Text.Whitespace
'dy'          Name
'['           Punctuation
'0'           Literal.Number.Integer
']'           Punctuation
' '           Text.Whitespace
'>='          Operator
' '           Text.Whitespace
'_min_received' Name
','           Punctuation
' '           Text.Whitespace
'"Not enough coins removed"' Literal.String.Double
'\n\n    '    Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'balances'    Name
'['           Punctuation
'i'           Name
']'           Punctuation
' '           Text.Whitespace
'-'           Operator
'='           Operator
' '           Text.Whitespace
'('           Punctuation
'dy'          Name
'['           Punctuation
'0'           Literal.Number.Integer
']'           Punctuation
' '           Text.Whitespace
'+'           Operator
' '           Text.Whitespace
'dy'          Name
'['           Punctuation
'1'           Literal.Number.Integer
']'           Punctuation
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'ADMIN_FEE'   Name
' '           Text.Whitespace
'/'           Operator
' '           Text.Whitespace
'FEE_DENOMINATOR' Name
')'           Punctuation
'\n    '      Text.Whitespace
'total_supply:' Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'totalSupply' Name
' '           Text.Whitespace
'-'           Operator
' '           Text.Whitespace
'_burn_amount' Name
'\n    '      Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'totalSupply' Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'total_supply' Name
'\n    '      Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'balanceOf'   Name
'['           Punctuation
'msg.sender'  Name.Builtin.Pseudo
']'           Punctuation
' '           Text.Whitespace
'-'           Operator
'='           Operator
' '           Text.Whitespace
'_burn_amount' Name
'\n    '      Text.Whitespace
'log'         Keyword
' '           Text.Whitespace
'Transfer'    Name
'('           Punctuation
'msg.sender'  Name.Builtin.Pseudo
','           Punctuation
' '           Text.Whitespace
'empty'       Name.Builtin
'('           Punctuation
'address'     Keyword.Type
')'           Punctuation
','           Punctuation
' '           Text.Whitespace
'_burn_amount' Name
')'           Punctuation
'\n\n    '    Text.Whitespace
'assert'      Keyword
' '           Text.Whitespace
'ERC20'       Name.Class
'('           Punctuation
'self'        Name.Attribute
'.'           Punctuation
'coins'       Name
'['           Punctuation
'i'           Name
']'           Punctuation
')'           Punctuation
'.'           Punctuation
'transfer'    Name
'('           Punctuation
'_receiver'   Name
','           Punctuation
' '           Text.Whitespace
'dy'          Name
'['           Punctuation
'0'           Literal.Number.Integer
']'           Punctuation
','           Punctuation
' '           Text.Whitespace
'default_return_value' Name
'='           Operator
'True'        Name
')'           Punctuation
'  '          Text.Whitespace
'# dev: failed transfer' Comment.Single
'\n    '      Text.Whitespace
'log'         Keyword
' '           Text.Whitespace
'RemoveLiquidityOne' Name
'('           Punctuation
'msg.sender'  Name.Builtin.Pseudo
','           Punctuation
' '           Text.Whitespace
'_burn_amount' Name
','           Punctuation
' '           Text.Whitespace
'dy'          Name
'['           Punctuation
'0'           Literal.Number.Integer
']'           Punctuation
','           Punctuation
' '           Text.Whitespace
'total_supply' Name
')'           Punctuation
'\n\n    '    Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'save_p_from_price' Name
'('           Punctuation
'dy'          Name
'['           Punctuation
'2'           Literal.Number.Integer
']'           Punctuation
')'           Punctuation
'\n\n    '    Text.Whitespace
'return'      Keyword
' '           Text.Whitespace
'dy'          Name
'['           Punctuation
'0'           Literal.Number.Integer
']'           Punctuation
'\n\n\n'      Text.Whitespace

'@external'   Name.Decorator
'\n'          Text.Whitespace

'def'         Keyword
' '           Text.Whitespace
'ramp_A'      Name
'('           Punctuation
'_future_A:'  Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
','           Punctuation
' '           Text.Whitespace
'_future_time:' Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
')'           Punctuation
':'           Punctuation
'\n    '      Text.Whitespace
'assert'      Keyword
' '           Text.Whitespace
'msg.sender'  Name.Builtin.Pseudo
' '           Text.Whitespace
'=='          Operator
' '           Text.Whitespace
'Factory'     Name
'('           Punctuation
'self'        Name.Attribute
'.'           Punctuation
'factory'     Name
')'           Punctuation
'.'           Punctuation
'admin'       Name
'('           Punctuation
')'           Punctuation
'  '          Text.Whitespace
'# dev: only owner' Comment.Single
'\n    '      Text.Whitespace
'assert'      Keyword
' '           Text.Whitespace
'block.timestamp' Name.Builtin.Pseudo
' '           Text.Whitespace
'>='          Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'initial_A_time' Name
' '           Text.Whitespace
'+'           Operator
' '           Text.Whitespace
'MIN_RAMP_TIME' Name
'\n    '      Text.Whitespace
'assert'      Keyword
' '           Text.Whitespace
'_future_time' Name
' '           Text.Whitespace
'>='          Operator
' '           Text.Whitespace
'block.timestamp' Name.Builtin.Pseudo
' '           Text.Whitespace
'+'           Operator
' '           Text.Whitespace
'MIN_RAMP_TIME' Name
'  '          Text.Whitespace
'# dev: insufficient time' Comment.Single
'\n\n    '    Text.Whitespace
'_initial_A:' Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'_A'          Name
'('           Punctuation
')'           Punctuation
'\n    '      Text.Whitespace
'_future_A_p:' Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'_future_A'   Name
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'A_PRECISION' Name
'\n\n    '    Text.Whitespace
'assert'      Keyword
' '           Text.Whitespace
'_future_A'   Name
' '           Text.Whitespace
'>'           Operator
' '           Text.Whitespace
'0'           Literal.Number.Integer
' '           Text.Whitespace
'and'         Name
' '           Text.Whitespace
'_future_A'   Name
' '           Text.Whitespace
'<'           Operator
' '           Text.Whitespace
'MAX_A'       Name
'\n    '      Text.Whitespace
'if'          Keyword
' '           Text.Whitespace
'_future_A_p' Name
' '           Text.Whitespace
'<'           Operator
' '           Text.Whitespace
'_initial_A:' Name.Variable
'\n        '  Text.Whitespace
'assert'      Keyword
' '           Text.Whitespace
'_future_A_p' Name
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'MAX_A_CHANGE' Name
' '           Text.Whitespace
'>='          Operator
' '           Text.Whitespace
'_initial_A'  Name
'\n    '      Text.Whitespace
'else'        Keyword
':'           Punctuation
'\n        '  Text.Whitespace
'assert'      Keyword
' '           Text.Whitespace
'_future_A_p' Name
' '           Text.Whitespace
'<='          Operator
' '           Text.Whitespace
'_initial_A'  Name
' '           Text.Whitespace
'*'           Operator
' '           Text.Whitespace
'MAX_A_CHANGE' Name
'\n\n    '    Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'initial_A'   Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'_initial_A'  Name
'\n    '      Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'future_A'    Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'_future_A_p' Name
'\n    '      Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'initial_A_time' Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'block.timestamp' Name.Builtin.Pseudo
'\n    '      Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'future_A_time' Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'_future_time' Name
'\n\n    '    Text.Whitespace
'log'         Keyword
' '           Text.Whitespace
'RampA'       Name
'('           Punctuation
'_initial_A'  Name
','           Punctuation
' '           Text.Whitespace
'_future_A_p' Name
','           Punctuation
' '           Text.Whitespace
'block.timestamp' Name.Builtin.Pseudo
','           Punctuation
' '           Text.Whitespace
'_future_time' Name
')'           Punctuation
'\n\n\n'      Text.Whitespace

'@external'   Name.Decorator
'\n'          Text.Whitespace

'def'         Keyword
' '           Text.Whitespace
'stop_ramp_A' Name
'('           Punctuation
')'           Punctuation
':'           Punctuation
'\n    '      Text.Whitespace
'assert'      Keyword
' '           Text.Whitespace
'msg.sender'  Name.Builtin.Pseudo
' '           Text.Whitespace
'=='          Operator
' '           Text.Whitespace
'Factory'     Name
'('           Punctuation
'self'        Name.Attribute
'.'           Punctuation
'factory'     Name
')'           Punctuation
'.'           Punctuation
'admin'       Name
'('           Punctuation
')'           Punctuation
'  '          Text.Whitespace
'# dev: only owner' Comment.Single
'\n\n    '    Text.Whitespace
'current_A:'  Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'_A'          Name
'('           Punctuation
')'           Punctuation
'\n    '      Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'initial_A'   Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'current_A'   Name
'\n    '      Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'future_A'    Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'current_A'   Name
'\n    '      Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'initial_A_time' Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'block.timestamp' Name.Builtin.Pseudo
'\n    '      Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'future_A_time' Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'block.timestamp' Name.Builtin.Pseudo
'\n    '      Text.Whitespace
'# now (block.timestamp < t1) is always False, so we return saved A' Comment.Single
'\n\n    '    Text.Whitespace
'log'         Keyword
' '           Text.Whitespace
'StopRampA'   Name
'('           Punctuation
'current_A'   Name
','           Punctuation
' '           Text.Whitespace
'block.timestamp' Name.Builtin.Pseudo
')'           Punctuation
'\n\n\n'      Text.Whitespace

'@external'   Name.Decorator
'\n'          Text.Whitespace

'def'         Keyword
' '           Text.Whitespace
'set_ma_exp_time(_ma_exp_time: uint256):' Name.Function
'\n    '      Text.Whitespace
'assert'      Keyword
' '           Text.Whitespace
'msg.sender'  Name.Builtin.Pseudo
' '           Text.Whitespace
'=='          Operator
' '           Text.Whitespace
'Factory'     Name
'('           Punctuation
'self'        Name.Attribute
'.'           Punctuation
'factory'     Name
')'           Punctuation
'.'           Punctuation
'admin'       Name
'('           Punctuation
')'           Punctuation
'  '          Text.Whitespace
'# dev: only owner' Comment.Single
'\n    '      Text.Whitespace
'assert'      Keyword
' '           Text.Whitespace
'_ma_exp_time' Name
' '           Text.Whitespace
'!='          Operator
' '           Text.Whitespace
'0'           Literal.Number.Integer
'\n\n    '    Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'ma_exp_time' Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'_ma_exp_time' Name
'\n\n\n'      Text.Whitespace

'@view'       Name.Decorator
'\n'          Text.Whitespace

'@external'   Name.Decorator
'\n'          Text.Whitespace

'def'         Keyword
' '           Text.Whitespace
'admin_balances' Name
'('           Punctuation
'i:'          Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
')'           Punctuation
' '           Text.Whitespace
'-'           Operator
'>'           Operator
' '           Text.Whitespace
'uint256'     Keyword.Type
':'           Punctuation
'\n    '      Text.Whitespace
'return'      Keyword
' '           Text.Whitespace
'ERC20'       Name.Class
'('           Punctuation
'self'        Name.Attribute
'.'           Punctuation
'coins'       Name
'['           Punctuation
'i'           Name
']'           Punctuation
')'           Punctuation
'.'           Punctuation
'balanceOf'   Name
'('           Punctuation
'self'        Name.Attribute
')'           Punctuation
' '           Text.Whitespace
'-'           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'balances'    Name
'['           Punctuation
'i'           Name
']'           Punctuation
'\n\n\n'      Text.Whitespace

'@external'   Name.Decorator
'\n'          Text.Whitespace

'def'         Keyword
' '           Text.Whitespace
'commit_new_fee(_new_fee: uint256):' Name.Function
'\n    '      Text.Whitespace
'assert'      Keyword
' '           Text.Whitespace
'msg.sender'  Name.Builtin.Pseudo
' '           Text.Whitespace
'=='          Operator
' '           Text.Whitespace
'Factory'     Name
'('           Punctuation
'self'        Name.Attribute
'.'           Punctuation
'factory'     Name
')'           Punctuation
'.'           Punctuation
'admin'       Name
'('           Punctuation
')'           Punctuation
'\n    '      Text.Whitespace
'assert'      Keyword
' '           Text.Whitespace
'_new_fee'    Name
' '           Text.Whitespace
'<='          Operator
' '           Text.Whitespace
'MAX_FEE'     Name
'\n    '      Text.Whitespace
'assert'      Keyword
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'admin_action_deadline' Name
' '           Text.Whitespace
'=='          Operator
' '           Text.Whitespace
'0'           Literal.Number.Integer
'\n\n    '    Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'future_fee'  Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'_new_fee'    Name
'\n    '      Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'admin_action_deadline' Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'block.timestamp' Name.Builtin.Pseudo
' '           Text.Whitespace
'+'           Operator
' '           Text.Whitespace
'ADMIN_ACTIONS_DEADLINE_DT' Name
'\n    '      Text.Whitespace
'log'         Keyword
' '           Text.Whitespace
'CommitNewFee' Name
'('           Punctuation
'_new_fee'    Name
')'           Punctuation
'\n\n\n'      Text.Whitespace

'@external'   Name.Decorator
'\n'          Text.Whitespace

'def'         Keyword
' '           Text.Whitespace
'apply_new_fee' Name
'('           Punctuation
')'           Punctuation
':'           Punctuation
'\n    '      Text.Whitespace
'assert'      Keyword
' '           Text.Whitespace
'msg.sender'  Name.Builtin.Pseudo
' '           Text.Whitespace
'=='          Operator
' '           Text.Whitespace
'Factory'     Name
'('           Punctuation
'self'        Name.Attribute
'.'           Punctuation
'factory'     Name
')'           Punctuation
'.'           Punctuation
'admin'       Name
'('           Punctuation
')'           Punctuation
'\n    '      Text.Whitespace
'deadline:'   Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'admin_action_deadline' Name
'\n    '      Text.Whitespace
'assert'      Keyword
' '           Text.Whitespace
'deadline'    Name
' '           Text.Whitespace
'!='          Operator
' '           Text.Whitespace
'0'           Literal.Number.Integer
' '           Text.Whitespace
'and'         Name
' '           Text.Whitespace
'block.timestamp' Name.Builtin.Pseudo
' '           Text.Whitespace
'>='          Operator
' '           Text.Whitespace
'deadline'    Name
'\n\n    '    Text.Whitespace
'fee:'        Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'future_fee'  Name
'\n    '      Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'fee'         Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'fee'         Name
'\n    '      Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'admin_action_deadline' Name
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'0'           Literal.Number.Integer
'\n    '      Text.Whitespace
'log'         Keyword
' '           Text.Whitespace
'ApplyNewFee' Name
'('           Punctuation
'fee'         Name
')'           Punctuation
'\n\n\n'      Text.Whitespace

'@external'   Name.Decorator
'\n'          Text.Whitespace

'def'         Keyword
' '           Text.Whitespace
'withdraw_admin_fees' Name
'('           Punctuation
')'           Punctuation
':'           Punctuation
'\n    '      Text.Whitespace
'receiver:'   Name.Variable
' '           Text.Whitespace
'address'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'Factory'     Name
'('           Punctuation
'self'        Name.Attribute
'.'           Punctuation
'factory'     Name
')'           Punctuation
'.'           Punctuation
'get_fee_receiver' Name
'('           Punctuation
'self'        Name.Attribute
')'           Punctuation
'\n\n    '    Text.Whitespace
'for'         Keyword
' '           Text.Whitespace
'i'           Name
' '           Text.Whitespace
'in'          Keyword
' '           Text.Whitespace
'range'       Name.Builtin
'('           Punctuation
'N_COINS'     Name
')'           Punctuation
':'           Punctuation
'\n        '  Text.Whitespace
'coin:'       Name.Variable
' '           Text.Whitespace
'address'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'coins'       Name
'['           Punctuation
'i'           Name
']'           Punctuation
'\n        '  Text.Whitespace
'fees:'       Name.Variable
' '           Text.Whitespace
'uint256'     Keyword.Type
' '           Text.Whitespace
'='           Operator
' '           Text.Whitespace
'ERC20'       Name.Class
'('           Punctuation
'coin'        Name
')'           Punctuation
'.'           Punctuation
'balanceOf'   Name
'('           Punctuation
'self'        Name.Attribute
')'           Punctuation
' '           Text.Whitespace
'-'           Operator
' '           Text.Whitespace
'self'        Name.Attribute
'.'           Punctuation
'balances'    Name
'['           Punctuation
'i'           Name
']'           Punctuation
'\n        '  Text.Whitespace
'assert'      Keyword
' '           Text.Whitespace
'ERC20'       Name.Class
'('           Punctuation
'coin'        Name
')'           Punctuation
'.'           Punctuation
'transfer'    Name
'('           Punctuation
'receiver'    Name
','           Punctuation
' '           Text.Whitespace
'fees'        Name
','           Punctuation
' '           Text.Whitespace
'default_return_value' Name
'='           Operator
'True'        Name
')'           Punctuation
'\n\n\n'      Text.Whitespace

'@pure'       Name.Decorator
'\n'          Text.Whitespace

'@external'   Name.Decorator
'\n'          Text.Whitespace

'def'         Keyword
' '           Text.Whitespace
'version'     Name
'('           Punctuation
')'           Punctuation
' '           Text.Whitespace
'-'           Operator
'>'           Operator
' '           Text.Whitespace
'String'      Keyword.Type
'['           Punctuation
'8'           Literal.Number.Integer
']'           Punctuation
':'           Punctuation
'\n    '      Text.Whitespace
'"""'         Comment.Multiline
'\n    @notice Get the version of this token contract\n    ' Comment.Multiline
'"""'         Comment.Multiline
'\n    '      Text.Whitespace
'return'      Keyword
' '           Text.Whitespace
'VERSION'     Name
'\n'          Text.Whitespace
